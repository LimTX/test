<?php
class ScoresController extends AppController {

	var $name = 'Scores';
	
	var $uses = array('Score');

	var $helpers = array('Html', 'Form', 'Session');
	
	var $components = array("Session","Image","RequestHandler","Password");
	
	var $paginate = array('limit' => 10, 'page' => 1,'order'=>array('modified' => 'ASC'));	
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////

	//COMPACT REPORT GET TOTAL BI
	function getBI($customerid, $sessionkey) {
	
	return $this->Score->find('all', array('conditions' => array('Score.test_bk_session_id' => $sessionkey, 'Score.customer_id' => $customerid, 'Score.lesson IN'."(".'1,2,3,4,5'.")")));
	
	}
	
	//FOR STUDENT SUMMARY OF STRATEGIES LEVEL 1
	function geteachlesson($lessonid, $sessionkey) {
	
	return $this->Score->find('all', array('conditions' => array('Test.bk_session_id' => $sessionkey, 'Customer.customers_types' => 'student', 'Score.lesson' => $lessonid)));
	
	}
	
	//FOR STUDENT SUMMARY OF STRATEGIES LEVEL 2
	function getbasedlesson($sessionkey) {
	
	return $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $sessionkey, 'Customer.customers_types' => 'student')));
	
	}
	
	//FOR STUDENT SUMMARY OF STRATEGIES LEVEL 2 - EACH LESSON 1,2,3,4,5 ... 10
	function eachlesson($lessonid, $sessionkey) {
	
	return $this->Score->find('all', array('conditions' => array('Score.test_bk_session_id' => $sessionkey, 'Customer.customers_types' => 'student', 'Score.lesson' => $lessonid)));
	
	}
	
	function eachlessonper($lessonid, $sessionkey, $customer_id) {
	
	return $this->Score->find('all', array('conditions' => array('Score.test_bk_session_id' => $sessionkey, 'Customer.customers_types' => 'student', 'Score.lesson' => $lessonid, 'Score.customer_id' => $customer_id)));
	
	}
	
	//NO. OF ATTEMPTED LESSONS - DIVIDED BY THE LESSON ATTEMPTED
	function noofattemptedlesson($sessionkey, $customer_id) {
	
	return $this->Score->find('count', array('conditions' => array('Score.test_bk_session_id' => $sessionkey, 'Score.customer_id' => $customer_id)));

	}
	
	function checkcompletedlesson($customer_id, $access_token, $test_id, $lessonno) {
		
	return $this->Score->find('first', array('conditions' => array('Score.customer_id' => $customer_id, 'Score.test_bk_session_id' => $access_token, 'Score.test_id' => $test_id,'Score.lesson' => $lessonno)));
		
	}
	
	//score_edit files less without the teacher - only students.
	function checkscorecompletedlesson($access_token, $navlessonid) {
		
	return $this->Score->find('all', array('conditions' => array('Score.test_bk_session_id' => $access_token,'Score.lesson' => $navlessonid)));
		
	}

	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_index() {
	
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Assessment';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a></article>";
			
		$this->set('breadcrumbs', $breadcrumbs);
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//ADD LESSON 1K///////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_carseries_k_1() {
		
		if (empty($this->data)) {
					
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0])));
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['modified'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book K - Lesson 1';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book K - Lesson 1</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (!empty($this->data)) {
			 
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('test_id', $this->data['Score']['test_id']);
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				}
				if($this->data['Score']['MG'] === "A")	{
				   $this->Score->saveField('MG_pts', 1);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				}
					
                $this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_k_1',$this->data['Score']['customer_id'],$this->data['Score']['test_bk_session_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 1K//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_k_1($id = null) {
					
		if (empty($this->data)) {
				
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));	
		
		$studentName = $student['Customer']['customers_name'];
		//CHANGE THE GENDER
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		//CHANGE THE GENDER
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book K - Lesson 1';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book K - Lesson 1</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 1)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "A")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_k_1', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 2K///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_k_2($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book K - Lesson 2';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book K - Lesson 2</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 2)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "A")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "C")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_k_2', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 3K///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_k_3($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book K - Lesson 3';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book K - Lesson 3</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 3)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "C")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_k_3', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 4K///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_k_4($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book K - Lesson 4';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book K - Lesson 4</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 4)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "A")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "C")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_k_4', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 5K///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_k_5($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book K - Lesson 5';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book K - Lesson 5</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 5)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "C")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_k_5', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 6K///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_k_6($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book K - Lesson 6';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book K - Lesson 6</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 6)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "B")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "A")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_k_6', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 7K///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_k_7($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book K - Lesson 7';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book K - Lesson 7</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 7)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "A")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "B")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "C")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "A")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_k_7', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 8K///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_k_8($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book K - Lesson 8';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book K - Lesson 8</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 8)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "C")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "C")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_k_8', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 9K///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_k_9($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book K - Lesson 9';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book K - Lesson 9</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 9)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "B")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "A")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_k_9', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 10K///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_k_10($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book K - Lesson 10';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book K - Lesson 10</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 10)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "D")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "A")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_k_10', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 1P///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_p_1($id = null) {
				
		if (empty($this->data)) {
				
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));	
		
		$studentName = $student['Customer']['customers_name'];
		//CHANGE THE GENDER
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		//CHANGE THE GENDER
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Lesson 1';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Lesson 1</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 1)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "A")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_p_1', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 2P///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_p_2($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Lesson 2';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Lesson 2</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 2)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "A")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "C")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_p_2', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 3P///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_p_3($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Lesson 3';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Lesson 3</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 3)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "C")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_p_3', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 4P///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_p_4($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Lesson 4';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Lesson 4</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 4)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "A")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "C")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_p_4', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 5P///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_p_5($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Lesson 5';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Lesson 5</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 5)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "C")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_p_5', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 6P///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_p_6($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Lesson 6';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Lesson 6</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 6)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "B")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "A")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_p_6', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 7P///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_p_7($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Lesson 7';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Lesson 7</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 7)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "A")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "B")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "C")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "A")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_p_7', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 8P///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_p_8($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Lesson 8';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Lesson 8</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 8)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "C")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "C")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_p_8', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 9P///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_p_9($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Lesson 9';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Lesson 9</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 9)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "B")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "A")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_p_9', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 10P///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_p_10($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Lesson 10';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Lesson 10</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 10)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "D")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "A")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_p_10', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 1AA//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_aa_1($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Lesson 1';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Lesson 1</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 1)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "C")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "C")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_aa_1', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 2AA//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_aa_2($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Lesson 2';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Lesson 2</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 2)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "C")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_aa_2', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 3AA//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_aa_3($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Lesson 3';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Lesson 3</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 3)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "C")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_aa_3', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 4AA//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_aa_4($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Lesson 4';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Lesson 4</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 4)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "B")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "C")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "C")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_aa_4', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 5AA//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_aa_5($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Lesson 5';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Lesson 5</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 5)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "B")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "C")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_aa_5', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 6AA//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_aa_6($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Lesson 6';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Lesson 6</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 6)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "B")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "C")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_aa_6', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 7AA//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_aa_7($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Lesson 7';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Lesson 7</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 7)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "C")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_aa_7', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 8AA//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_aa_8($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Lesson 8';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Lesson 8</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 8)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "C")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_aa_8', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 9AA//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_aa_9($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Lesson 9';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Lesson 9</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 9)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "C")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_aa_9', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 10AA//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_aa_10($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Lesson 10';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Lesson 10</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 10)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "C")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_aa_10', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 1A//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_a_1($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Lesson 1';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Lesson 1</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 1)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "A")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_a_1', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 2A//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_a_2($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Lesson 2';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Lesson 2</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 2)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "A")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_a_2', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 3A//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_a_3($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Lesson 3';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Lesson 3</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 3)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "C")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_a_3', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 4A//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_a_4($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Lesson 4';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Lesson 4</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 4)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "A")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_a_4', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 5A//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_a_5($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Lesson 5';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Lesson 5</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 5)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "C")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_a_5', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 6A//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_a_6($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Lesson 6';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Lesson 6</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 6)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "A")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_a_6', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 7A//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_a_7($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Lesson 7';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Lesson 7</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 7)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "C")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_a_7', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 8A//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_a_8($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Lesson 8';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Lesson 8</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 8)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "A")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "A")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_a_8', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 9A//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_a_9($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Lesson 9';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Lesson 9</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 9)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "C")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_a_9', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 10A//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carseries_a_10($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Lesson 10';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Lesson 10</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 10)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "A")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "A")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_a_10', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 1B//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_b_1($id = null) {
		
		$page_no = 1;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "B")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 2B//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_b_2($id = null) {
		
		$page_no = 2;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "B")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 3B//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_b_3($id = null) {
		
		$page_no = 3;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "C")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 4B//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_b_4($id = null) {
			
			$page_no = 4;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "C")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 5B//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_b_5($id = null) {
			
			$page_no = 5;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "B")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 6B//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_b_6($id = null) {
			
			$page_no = 6;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "A")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 7B//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_b_7($id = null) {
			
			$page_no = 7;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "D")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 8B//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_b_8($id = null) {
			
			$page_no = 8;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "C")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 9B//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_b_9($id = null) {
			
			$page_no = 9;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "D")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 10B//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_b_10($id = null) {
			
			$page_no = 10;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "C")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 1C//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_c_1($id = null) {
		
		$page_no = 1;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "B")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 2C//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_c_2($id = null) {
		
		$page_no = 2;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "C")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 3C//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_c_3($id = null) {
		
		$page_no = 3;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "A")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 4C//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_c_4($id = null) {
		
		$page_no = 4;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "D")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 5C//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_c_5($id = null) {
		
		$page_no = 5;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "C")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 6C//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_c_6($id = null) {
		
		$page_no = 6;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "D")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 7C//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_c_7($id = null) {
		
		$page_no = 7;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "A")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 8C//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_c_8($id = null) {
		
		$page_no = 8;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "D")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 9C//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_c_9($id = null) {
		
		$page_no = 9;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "A")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 10C//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_c_10($id = null) {
		
		$page_no = 10;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "A")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "B")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 1D//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_d_1($id = null) {
		
		$page_no = 1;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 2D//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_d_2($id = null) {
		
		$page_no = 2;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 3D//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_d_3($id = null) {
		
		$page_no = 3;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 4D//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_d_4($id = null) {
		
		$page_no = 4;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "A")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 5D//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_d_5($id = null) {
		
		$page_no = 5;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 6D//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_d_6($id = null) {
		
		$page_no = 6;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 7D//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_d_7($id = null) {
		
		$page_no = 7;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 8D//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_d_8($id = null) {
		
		$page_no = 8;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 9D//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_d_9($id = null) {
		
		$page_no = 9;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 10D//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_d_10($id = null) {
		
		$page_no = 10;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 1E//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_e_1($id = null) {
		
		$page_no = 1;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 2E//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_e_2($id = null) {
		
		$page_no = 2;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "A")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 3E//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_e_3($id = null) {
		
		$page_no = 3;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 4E//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_e_4($id = null) {
		
		$page_no = 4;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 5E//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_e_5($id = null) {
		
		$page_no = 5;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 6E//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_e_6($id = null) {
		
		$page_no = 6;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 7E//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_e_7($id = null) {
		
		$page_no = 7;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 8E//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_e_8($id = null) {
		
		$page_no = 8;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 9E//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_e_9($id = null) {
		
		$page_no = 9;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 10E//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_e_10($id = null) {
		
		$page_no = 10;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 1F//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_f_1($id = null) {
		
		$page_no = 1;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 2F//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_f_2($id = null) {
		
		$page_no = 2;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 3F//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_f_3($id = null) {
		
		$page_no = 3;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 4F//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_f_4($id = null) {
		
		$page_no = 4;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 5F//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_f_5($id = null) {
		
		$page_no = 5;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 6F//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_f_6($id = null) {
		
		$page_no = 6;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "A")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 7F//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_f_7($id = null) {
		
		$page_no = 7;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 8F//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_f_8($id = null) {
		
		$page_no = 8;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 9F//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_f_9($id = null) {
		
		$page_no = 9;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 10F//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_f_10($id = null) {
		
		$page_no = 10;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 1G//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_g_1($id = null) {
		
		$page_no = 1;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "A")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 2G//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_g_2($id = null) {
		
		$page_no = 2;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 3G//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_g_3($id = null) {
		
		$page_no = 3;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 4G//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_g_4($id = null) {
		
		$page_no = 4;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "A")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 5G//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_g_5($id = null) {
		
		$page_no = 5;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 6G//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_g_6($id = null) {
		
		$page_no = 6;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 7G//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_g_7($id = null) {
		
		$page_no = 7;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 8G//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_g_8($id = null) {
		
		$page_no = 8;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 9G//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_g_9($id = null) {
		
		$page_no = 9;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "A")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 10G/////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_g_10($id = null) {
		
		$page_no = 10;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 1H/////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_h_1($id = null) {
		
		$page_no = 1;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 2H/////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_h_2($id = null) {
		
		$page_no = 2;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 3H/////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_h_3($id = null) {
		
		$page_no = 3;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "A")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 4H/////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_h_4($id = null) {
		
		$page_no = 4;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 5H/////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_h_5($id = null) {
		
		$page_no = 5;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 6H/////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_h_6($id = null) {
		
		$page_no = 6;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 7H/////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_h_7($id = null) {
		
		$page_no = 7;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 8H/////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_h_8($id = null) {
		
		$page_no = 8;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 9H/////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_h_9($id = null) {
		
		$page_no = 9;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "A")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT LESSON 10H/////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carseries_h_10($id = null) {
		
		$page_no = 10;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Lesson '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Lesson ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 1P CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_p_1($id = null) {
				
		if (empty($this->data)) {
				
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));	
		
		$studentName = $student['Customer']['customers_name'];
		//CHANGE THE GENDER
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		//CHANGE THE GENDER
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Pretest 1';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Pretest 1</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 1)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "A")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_p_1', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 2P CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_p_2($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Pretest 2';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Pretest 2</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 2)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "A")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "C")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_p_2', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 3P CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_p_3($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Pretest 3';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Pretest 3</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 3)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_p_3', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 4P CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_p_4($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Pretest 4';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Pretest 4</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 4)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "A")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "C")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_p_4', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 5P///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_p_5($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle = 'CARS & STARS Online / Book P - Pretest 5';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Pretest 5</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 5)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "C")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_p_5', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 6P CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_p_6($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Benchmark 1';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Benchmark 1</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 6)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "B")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "A")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_p_6', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 7P CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_p_7($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Benchmark 2';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Benchmark 2</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 7)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "A")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "B")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "C")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_p_7', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 8P///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_p_8($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Benchmark 3';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Benchmark 3</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 8)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "A")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "B")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "A")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_p_8', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 9P///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_p_9($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Benchmark 4';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Benchmark 4</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 9)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "A")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "C")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "C")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_p_9', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 10P CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_p_10($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Benchmark 5';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Benchmark 5</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 10)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "A")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "A")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_p_10', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 11P CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_p_11($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Post Test 1';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Post Test 1</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 11)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "B")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "A")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_p_11', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 12P CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_p_12($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Post Test 2';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Post Test 2</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 12)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "A")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "B")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "C")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "A")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_p_12', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 13P CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_p_13($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Post Test 3';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Post Test 3</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 13)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "C")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "C")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_p_13', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 14P CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_p_14($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Post Test 4';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Post Test 4</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 14)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "B")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "A")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_p_14', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//LESSON 15P CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_p_15($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book P - Post Test 5';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book P - Post Test 5</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 15)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['BI'] === "B")	{
				   $this->Score->saveField('BI_pts', 1);
				} else {
					$this->Score->saveField('BI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "C")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "A")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_p_15', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT PRETEST 1 AA CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carsplus_aa_1($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - PreTest 1';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - PreTest 1</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 1)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "C")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "C")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_aa_1', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT PRETEST 2 AA CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carsplus_aa_2($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Pretest 2';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Pretest 2</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 2)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "C")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_aa_2', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT PRETEST 3 CAR PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carsplus_aa_3($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Pretest 3';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Pretest 3</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 3)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "C")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_aa_3', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT PRETEST 4 AA CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carsplus_aa_4($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Pretest 4';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Pretest 4</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 4)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "B")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "C")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "C")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_aa_4', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT PRETEST 5 AA CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carsplus_aa_5($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Pretest 5';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Pretest 5</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 5)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "B")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "C")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_aa_5', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT BENCHMARK 1 AA CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carsplus_aa_6($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Benchmark 1';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Benchmark 1</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 6)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "B")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "C")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_aa_6', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT BENCHMARK 2 AA CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carsplus_aa_7($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Benchmark 2';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Benchmark 2</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 7)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_aa_7', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT BENCHMARK 3 AA CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carsplus_aa_8($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Benchmark 3';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Benchmark 3</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 8)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "C")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_aa_8', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT BENCHMARK 4 AA CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carsplus_aa_9($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Benchmark 4';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Benchmark 4</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 9)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "C")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "C")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_aa_9', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT BENCHMARK 5 AA CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carsplus_aa_10($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Benchmark 5';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Benchmark 5</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 10)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_aa_10', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 1 AA CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carsplus_aa_11($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Post Test 1';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Post Test 1</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 11)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "B")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "C")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_aa_11', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 2 AA CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carsplus_aa_12($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Post Test 2';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Post Test 2</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 12)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "C")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_aa_12', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 3 AA CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carsplus_aa_13($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Post Test 3';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Post Test 3</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 13)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "A")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "C")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_aa_13', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 4 AA CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carsplus_aa_14($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Post Test 4';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Post Test 4</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 14)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "C")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "B")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_aa_14', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 5 AA CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
		
	function admin_edit_carsplus_aa_15($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book AA - Post Test 5';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book AA - Post Test 5</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 15)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['PO'] === "A")	{
				   $this->Score->saveField('PO_pts', 1);
				} else {
					$this->Score->saveField('PO_pts', 0);
				}
				if($this->data['Score']['WW'] === "B")	{
				   $this->Score->saveField('WW_pts', 1);
				} else {
					$this->Score->saveField('WW_pts', 0);
				}
				if($this->data['Score']['MG'] === "C")	{
				   $this->Score->saveField('MG_pts', 1);
				} else {
					$this->Score->saveField('MG_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_aa_15', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pretest 1 A CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_a_1($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Pretest 1';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Pretest 1</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 1)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "A")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_a_1', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pretest 2 A CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_a_2($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Pretest 2';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Pretest 2</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 2)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "A")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_a_2', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pretest 3 A CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_a_3($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Pretest 3';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Pretest 3</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 3)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "C")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_a_3', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pretest 4 A CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_a_4($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Pretest 4';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Pretest 4</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 4)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "A")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_a_4', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pretest 5 A CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_a_5($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Pretest 5';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Pretest 5</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 5)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "C")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_a_5', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 1 A CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_a_6($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Benchmark 1';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Benchmark 1</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 6)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "A")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_a_6', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 2 A CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_a_7($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Benchmark 2';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Benchmark 2</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 7)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "A")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_a_7', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 3 A CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_a_8($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Benchmark 3';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Benchmark 3</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 8)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "A")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_a_8', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 4 A CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_a_9($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Benchmark 4';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Benchmark 4</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 9)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "B")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_a_9', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 5 A CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_a_10($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Benchmark 5';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Benchmark 5</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 10)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "C")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_a_10', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 1 A CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_a_11($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Post Test 1';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Post Test 1</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 11)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "A")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_a_11', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 2 A CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_a_12($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Post Test 2';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Post Test 2</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 12)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "C")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_a_12', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 3 A CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_a_13($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Post Test 3';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Post Test 3</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 13)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "A")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "A")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_a_13', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 4 A CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_a_14($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Post Test 4';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Post Test 4</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 14)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "C")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_a_14', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 5 A CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_a_15($id = null) {
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book A - Post Test 5';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book A - Post Test 5</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => 15)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['MP'] === "A")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['RP'] === "A")	{
				   $this->Score->saveField('RP_pts', 1);
				} else {
					$this->Score->saveField('RP_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_a_15', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 1 B CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_b_1($id = null) {
		
		$page_no = 1;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "B")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 2 B CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_b_2($id = null) {
		
		$page_no = 2;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "B")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 3 B CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_b_3($id = null) {
		
		$page_no = 3;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "C")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carseries_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 4 B CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_b_4($id = null) {
			
			$page_no = 4;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "C")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 5 B CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_b_5($id = null) {
			
			$page_no = 5;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "B")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 1 B CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_b_6($id = null) {
			
			$page_no = 6;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 1;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "C")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 2 B CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_b_7($id = null) {
			
			$page_no = 7;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 2;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "A")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 3 B CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_b_8($id = null) {
			
			$page_no = 8;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 3;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "B")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 4 B CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_b_9($id = null) {
			
			$page_no = 9;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 4;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "B")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 5 B CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_b_10($id = null) {
			
			$page_no = 10;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 5;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "A")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "B")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 1 B CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_b_11($id = null) {
			
			$page_no = 11;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 1;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "A")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 2 B CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_b_12($id = null) {
			
			$page_no = 12;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 2;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "D")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 3 B CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_b_13($id = null) {
			
			$page_no = 13;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 3;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "C")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 4 B CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_b_14($id = null) {
			
			$page_no = 14;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 4;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "D")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 5 B CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_b_15($id = null) {
			
			$page_no = 15;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 5;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book B - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book B - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "C")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_b_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 1 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_c_1($id = null) {
		
		$page_no = 1;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "B")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 2 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_c_2($id = null) {
		
		$page_no = 2;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "C")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 3 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_c_3($id = null) {
		
		$page_no = 3;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "A")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 4 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_c_4($id = null) {
			
			$page_no = 4;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "D")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 5 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_c_5($id = null) {
			
			$page_no = 5;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "C")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 1 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_c_6($id = null) {
			
			$page_no = 6;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 1;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "D")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 2 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_c_7($id = null) {
			
			$page_no = 7;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 2;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "A")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "D")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 3 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_c_8($id = null) {
			
			$page_no = 8;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 3;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "C")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 4 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_c_9($id = null) {
			
			$page_no = 9;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 4;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "C")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 5 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_c_10($id = null) {
			
			$page_no = 10;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 5;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "B")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 1 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_c_11($id = null) {
			
			$page_no = 11;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 1;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "D")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 2 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_c_12($id = null) {
			
			$page_no = 12;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 2;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "A")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 3 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_c_13($id = null) {
			
			$page_no = 13;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 3;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "D")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 4 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_c_14($id = null) {
			
			$page_no = 14;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 4;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "A")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 5 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_c_15($id = null) {
			
			$page_no = 15;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 5;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book C - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book C - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "A")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['RM'] === "B")	{
				   $this->Score->saveField('RM_pts', 1);
				} else {
					$this->Score->saveField('RM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_c_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 1 D CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_d_1($id = null) {
		
		$page_no = 1;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 2 D CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_d_2($id = null) {
		
		$page_no = 2;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 3 D CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_d_3($id = null) {
		
		$page_no = 3;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 4 D CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_d_4($id = null) {
			
			$page_no = 4;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "A")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 5 D CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_d_5($id = null) {
			
			$page_no = 5;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 1 D CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_d_6($id = null) {
			
			$page_no = 6;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 1;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 2 D CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_d_7($id = null) {
			
			$page_no = 7;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 2;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "A")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 3 D CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_d_8($id = null) {
			
			$page_no = 8;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 3;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 4 D CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_d_9($id = null) {
			
			$page_no = 9;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 4;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "A")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 5 D CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_d_10($id = null) {
			
			$page_no = 10;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 5;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "A")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 1 D CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_d_11($id = null) {
			
			$page_no = 11;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 1;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 2 D CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_d_12($id = null) {
			
			$page_no = 12;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 2;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 3 D CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_d_13($id = null) {
			
			$page_no = 13;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 3;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 4 D CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_d_14($id = null) {
			
			$page_no = 14;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 4;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 5 D CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_d_15($id = null) {
			
			$page_no = 15;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 5;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book D - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book D - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_d_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}	
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 1 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_e_1($id = null) {
		
		$page_no = 1;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 2 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_e_2($id = null) {
		
		$page_no = 2;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "A")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 3 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_e_3($id = null) {
		
		$page_no = 3;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 4 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_e_4($id = null) {
			
			$page_no = 4;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 5 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_e_5($id = null) {
			
			$page_no = 5;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 1 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_e_6($id = null) {
			
			$page_no = 6;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 1;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 2 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_e_7($id = null) {
			
			$page_no = 7;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 2;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 3 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_e_8($id = null) {
			
			$page_no = 8;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 3;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 4 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_e_9($id = null) {
			
			$page_no = 9;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 4;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 5 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_e_10($id = null) {
			
			$page_no = 10;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 5;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 1 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_e_11($id = null) {
			
			$page_no = 11;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 1;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 2 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_e_12($id = null) {
			
			$page_no = 12;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 2;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 3 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_e_13($id = null) {
			
			$page_no = 13;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 3;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 4 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_e_14($id = null) {
			
			$page_no = 14;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 4;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 5 C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_e_15($id = null) {
			
			$page_no = 15;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 5;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book E - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book E - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_e_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}	
	
	
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 1 F CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_f_1($id = null) {
		
		$page_no = 1;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 2 F CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_f_2($id = null) {
		
		$page_no = 2;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 3 F CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_f_3($id = null) {
		
		$page_no = 3;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 4 F CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_f_4($id = null) {
			
			$page_no = 4;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 5 F CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_f_5($id = null) {
			
			$page_no = 5;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 1 F CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_f_6($id = null) {
			
			$page_no = 6;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 1;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 2 F CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_f_7($id = null) {
			
			$page_no = 7;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 2;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 3 F CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_f_8($id = null) {
			
			$page_no = 8;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 3;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "A")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 4 F CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_f_9($id = null) {
			
			$page_no = 9;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 4;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 5 F CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_f_10($id = null) {
			
			$page_no = 10;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 5;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "A")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 1 F CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_f_11($id = null) {
			
			$page_no = 11;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 1;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "A")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 2 F CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_f_12($id = null) {
			
			$page_no = 12;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 2;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "A")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 3 F CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_f_13($id = null) {
			
			$page_no = 13;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 3;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 4 F CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_f_14($id = null) {
			
			$page_no = 14;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 4;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 5 F CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_f_15($id = null) {
			
			$page_no = 15;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 5;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book F - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book F - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_f_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 1 G CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_g_1($id = null) {
		
		$page_no = 1;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "A")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 2 G CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_g_2($id = null) {
		
		$page_no = 2;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 3 G CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_g_3($id = null) {
		
		$page_no = 3;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 4 G CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_g_4($id = null) {
			
			$page_no = 4;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "A")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 5 G CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_g_5($id = null) {
			
			$page_no = 5;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 1 G CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_g_6($id = null) {
			
			$page_no = 6;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 1;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 2 G CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_g_7($id = null) {
			
			$page_no = 7;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 2;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 3 G CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_g_8($id = null) {
			
			$page_no = 8;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 3;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 4 G CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_g_9($id = null) {
			
			$page_no = 9;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 4;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 5 G CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_g_10($id = null) {
			
			$page_no = 10;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 5;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 1 G CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_g_11($id = null) {
			
			$page_no = 11;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 1;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "A")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 2 G CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_g_12($id = null) {
			
			$page_no = 12;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 2;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 3 G CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_g_13($id = null) {
			
			$page_no = 13;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 3;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 4 G CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_g_14($id = null) {
			
			$page_no = 14;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 4;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "A")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "A")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "A")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 5 G CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_g_15($id = null) {
			
			$page_no = 15;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 5;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book G - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book G - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_g_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 1 H CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_h_1($id = null) {
		
		$page_no = 1;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 2 H CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_h_2($id = null) {
		
		$page_no = 2;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 3 H CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_h_3($id = null) {
		
		$page_no = 3;
		$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "A")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 4 H CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_h_4($id = null) {
			
			$page_no = 4;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Pre Test 5 H CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_h_5($id = null) {
			
			$page_no = 5;
			$this->set('page_no', $page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Pretest '.$page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Pretest ".$page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 1 H CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_h_6($id = null) {
			
			$page_no = 6;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 1;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "D")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 2 H CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_h_7($id = null) {
			
			$page_no = 7;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 2;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "D")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "B")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 3 H CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_h_8($id = null) {
			
			$page_no = 8;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 3;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "A")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 4 H CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_h_9($id = null) {
			
			$page_no = 9;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 4;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "A")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "D")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Benchmark 5 H CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_h_10($id = null) {
			
			$page_no = 10;
			$this->set('page_no', $page_no); 
			
			$bm_page_no = 5;
			$this->set('bm_page_no', $bm_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Benchmark '.$bm_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Benchmark ".$bm_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "B")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "C")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 1 H CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_h_11($id = null) {
			
			$page_no = 11;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 1;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "A")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "D")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "D")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "B")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "C")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 2 H CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_h_12($id = null) {
			
			$page_no = 12;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 2;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "C")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "B")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "D")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "A")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 3 H CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_h_13($id = null) {
			
			$page_no = 13;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 3;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "B")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "D")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "A")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "B")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "D")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "C")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 4 H CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_h_14($id = null) {
			
			$page_no = 14;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 4;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "D")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "C")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "C")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "B")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "A")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "C")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "B")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "D")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//EDIT Post Test 5 H CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_edit_carsplus_h_15($id = null) {
			
			$page_no = 15;
			$this->set('page_no', $page_no); 
			
			$pt_page_no = 5;
			$this->set('pt_page_no', $pt_page_no); 
				
		if (empty($this->data)) {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 
		}
		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Book H - Post Test '.$pt_page_no;
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);

$linktest = Router::url(array('controller' => "tests", 'action' => "add", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linktest."'>Assessment</a><div class='breadcrumb_divider'></div><a class='current'>Book H - Post Test ".$pt_page_no."</a></article>";			
		$this->set('breadcrumbs', $breadcrumbs);
		
		 if (empty($this->data)) {
			 
			 $this->data = $this->Score->find('first',array('conditions'=>array('Score.customer_id'=>$this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.lesson' => $page_no)));
		
		} else {
			
		 if ($this->Score->save($this->data)) {
			 
			 	//SAVE THE CUSTOMER ID AND SESSION KEY
				$this->Score->saveField('customer_id', $this->data['Score']['customer_id']);
				$this->Score->saveField('test_bk_session_id', $this->data['Score']['test_bk_session_id']);
				
				//VALIDATING POINT SYSTEMS
				if($this->data['Score']['MI'] === "C")	{
				   $this->Score->saveField('MI_pts', 1);
				} else {
					$this->Score->saveField('MI_pts', 0);
				}
				if($this->data['Score']['FD'] === "B")	{
				   $this->Score->saveField('FD_pts', 1);
				} else {
					$this->Score->saveField('FD_pts', 0);
				}
				if($this->data['Score']['US'] === "C")	{
				   $this->Score->saveField('US_pts', 1);
				} else {
					$this->Score->saveField('US_pts', 0);
				}
				if($this->data['Score']['CE'] === "D")	{
				   $this->Score->saveField('CE_pts', 1);
				} else {
					$this->Score->saveField('CE_pts', 0);
				}
				if($this->data['Score']['CC'] === "C")	{
				   $this->Score->saveField('CC_pts', 1);
				} else {
					$this->Score->saveField('CC_pts', 0);
				}
				if($this->data['Score']['MP'] === "B")	{
				   $this->Score->saveField('MP_pts', 1);
				} else {
					$this->Score->saveField('MP_pts', 0);
				}
				if($this->data['Score']['WM'] === "A")	{
				   $this->Score->saveField('WM_pts', 1);
				} else {
					$this->Score->saveField('WM_pts', 0);
				}
				if($this->data['Score']['CI'] === "C")	{
				   $this->Score->saveField('CI_pts', 1);
				} else {
					$this->Score->saveField('CI_pts', 0);
				}
				if($this->data['Score']['FO'] === "D")	{
				   $this->Score->saveField('FO_pts', 1);
				} else {
					$this->Score->saveField('FO_pts', 0);
				}
				if($this->data['Score']['AP'] === "C")	{
				   $this->Score->saveField('AP_pts', 1);
				} else {
					$this->Score->saveField('AP_pts', 0);
				}
				if($this->data['Score']['FL'] === "B")	{
				   $this->Score->saveField('FL_pts', 1);
				} else {
					$this->Score->saveField('FL_pts', 0);
				}
				if($this->data['Score']['SM'] === "B")	{
				   $this->Score->saveField('SM_pts', 1);
				} else {
					$this->Score->saveField('SM_pts', 0);
				}
					
				$this->Score->Customer->id = $this->Auth->user('id');
                $this->Score->Customer->saveField('resumetest', $this->referer());

                $this->Session->setFlash('<h4 class="alert_success">Your answers have been recorded successfully.</h4>');
				$this->redirect(array('controller' => 'scores', 'action' => 'edit_carsplus_h_'.$page_no.'', $this->data['Score']['customer_id'], $this->data['Score']['test_bk_session_id'], $this->data['Score']['test_id']));
				}
		}
	
	}
	
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//REPORT H////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reports_h() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
	
		if (empty($this->params['pass'][3])) {
			
		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		}
		 
		 if (!empty($this->params['pass'][3])) {
		 	if ($this->params['pass'][3] == '1-5') {


		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);


		 	} else if ($this->params['pass'][3] == '6-10') {

		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		 	} else if ($this->params['pass'][3] == '1-10') {
		 	
		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		 	}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//REPORT G////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reports_g() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
	
		if (empty($this->params['pass'][3])) {
			
		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		}
		 
		 if (!empty($this->params['pass'][3])) {
		 	if ($this->params['pass'][3] == '1-5') {


		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);


		 	} else if ($this->params['pass'][3] == '6-10') {

		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		 	} else if ($this->params['pass'][3] == '1-10') {
		 	
		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		 	}
		}
	}
	
	
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//REPORT F////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reports_f() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
	
		if (empty($this->params['pass'][3])) {
			
		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		}
		 
		 if (!empty($this->params['pass'][3])) {
		 	if ($this->params['pass'][3] == '1-5') {


		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);


		 	} else if ($this->params['pass'][3] == '6-10') {

		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		 	} else if ($this->params['pass'][3] == '1-10') {
		 	
		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		 	}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//REPORT E////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reports_e() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
	
		if (empty($this->params['pass'][3])) {
			
		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		}
		 
		 if (!empty($this->params['pass'][3])) {
		 	if ($this->params['pass'][3] == '1-5') {


		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);


		 	} else if ($this->params['pass'][3] == '6-10') {

		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		 	} else if ($this->params['pass'][3] == '1-10') {
		 	
		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		 	}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//REPORT D////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reports_d() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
		
		if (empty($this->params['pass'][3])) {
			
		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		}
		 
		 if (!empty($this->params['pass'][3])) {
		 	if ($this->params['pass'][3] == '1-5') {


		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);


		 	} else if ($this->params['pass'][3] == '6-10') {

		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		 	} else if ($this->params['pass'][3] == '1-10') {
		 	
		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		 	}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//REPORT C////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reports_c() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
	
		if (empty($this->params['pass'][3])) {
			
		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$RM_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => 1)
				));
		
				$this->set('RM_pts', $RM_pts);

		}
		 
		 if (!empty($this->params['pass'][3])) {
		 	if ($this->params['pass'][3] == '1-5') {


		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$RM_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => 1)
				));
		
				$this->set('RM_pts', $RM_pts);


		 	} else if ($this->params['pass'][3] == '6-10') {

		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$RM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => 1)
				));
		
				$this->set('RM_pts', $RM_pts);

		 	} else if ($this->params['pass'][3] == '1-10') {
		 	
		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$RM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => 1)
				));
		
				$this->set('RM_pts', $RM_pts);

		 	}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//REPORT B////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reports_b() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
	
		if (empty($this->params['pass'][3])) {

		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$RM_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => 1)
				));
		
				$this->set('RM_pts', $RM_pts);

		}
		 
		 if (!empty($this->params['pass'][3])) {
		 	if ($this->params['pass'][3] == '1-5') {


		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$RM_pts = $this->Score->find('count', array(
				'conditions' => array( 'Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => 1)
				));
		
				$this->set('RM_pts', $RM_pts);


		 	} else if ($this->params['pass'][3] == '6-10') {

		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$RM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => 1)
				));
		
				$this->set('RM_pts', $RM_pts);

		 	} else if ($this->params['pass'][3] == '1-10') {
		 	
		 		$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$RM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => 1)
				));
		
				$this->set('RM_pts', $RM_pts);

		 	}
		}
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//REPORT A////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reports_a() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
	
		if (empty($this->params['pass'][3])) {

			$MI_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
	 		));
		
	 		$this->set('MI_pts', $MI_pts);
		
	 		$FD_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
	 		));
		
	 		$this->set('FD_pts', $FD_pts);
		
	 		$US_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
	 		));
		
	 		$this->set('US_pts', $US_pts);
		
	 		$CE_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
	 		));
		
	 		$this->set('CE_pts', $CE_pts);
		
	 		$MP_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
	 		));
		
	 		$this->set('MP_pts', $MP_pts);
		
	 		$WM_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
	 		));
		
	 		$this->set('WM_pts', $WM_pts);
		
	 		$CI_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
	 		));
		
	 		$this->set('CI_pts', $CI_pts);
		
	 		$RP_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RP_pts' => 1)
	 		));
		
	 		$this->set('RP_pts', $RP_pts);
		
		 }
		 
		if (!empty($this->params['pass'][3])) {
		 	if ($this->params['pass'][3] == '1-5') {

		 	$MI_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
	 		));
		
	 		$this->set('MI_pts', $MI_pts);
		
	 		$FD_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
	 		));
		
	 		$this->set('FD_pts', $FD_pts);
		
	 		$US_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
	 		));
		
	 		$this->set('US_pts', $US_pts);
		
	 		$CE_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
	 		));
		
	 		$this->set('CE_pts', $CE_pts);
		
	 		$MP_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
	 		));
		
	 		$this->set('MP_pts', $MP_pts);
		
	 		$WM_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
	 		));
		
	 		$this->set('WM_pts', $WM_pts);
		
	 		$CI_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
	 		));
		
	 		$this->set('CI_pts', $CI_pts);
		
	 		$RP_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RP_pts' => 1)
	 		));
		
	 		$this->set('RP_pts', $RP_pts);
		 	
		 	} else if ($this->params['pass'][3] == '6-10') {

		 	$MI_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
	 		));
		
	 		$this->set('MI_pts', $MI_pts);
		
	 		$FD_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
	 		));
		
	 		$this->set('FD_pts', $FD_pts);
		
	 		$US_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
	 		));
		
	 		$this->set('US_pts', $US_pts);
		
	 		$CE_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
	 		));
		
	 		$this->set('CE_pts', $CE_pts);
		
	 		$MP_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
	 		));
		
	 		$this->set('MP_pts', $MP_pts);
		
	 		$WM_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
	 		));
		
	 		$this->set('WM_pts', $WM_pts);
		
	 		$CI_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
	 		));
		
	 		$this->set('CI_pts', $CI_pts);
		
	 		$RP_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RP_pts' => 1)
	 		));
		
	 		$this->set('RP_pts', $RP_pts);
		 	
		 	} else if ($this->params['pass'][3] == '1-10') {

		 	$MI_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
	 		));
		
	 		$this->set('MI_pts', $MI_pts);
		
	 		$FD_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
	 		));
		
	 		$this->set('FD_pts', $FD_pts);
		
	 		$US_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
	 		));
		
	 		$this->set('US_pts', $US_pts);
		
	 		$CE_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
	 		));
		
	 		$this->set('CE_pts', $CE_pts);
		
	 		$MP_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
	 		));
		
	 		$this->set('MP_pts', $MP_pts);
		
	 		$WM_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
	 		));
		
	 		$this->set('WM_pts', $WM_pts);
		
	 		$CI_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
	 		));
		
	 		$this->set('CI_pts', $CI_pts);
		
	 		$RP_pts = $this->Score->find('count', array(
	 		'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RP_pts' => 1)
	 		));
		
	 		$this->set('RP_pts', $RP_pts);	
		 
		 	}
	    }
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//REPORT AA///////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reports_aa() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
	
		if (empty($this->params['pass'][3])) {
		
			$MI_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
			));
		
			$this->set('MI_pts', $MI_pts);
		
			$FD_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
			));
		
			$this->set('FD_pts', $FD_pts);
		
			$PO_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => 1)
			));
		
			$this->set('PO_pts', $PO_pts);
		
			$WW_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => 1)
			));
		
			$this->set('WW_pts', $WW_pts);
		
			$MG_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => 1)
			));
		
			$this->set('MG_pts', $MG_pts);
		
			$FO_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
			));
		
			$this->set('FO_pts', $FO_pts);

		}

		if (!empty($this->params['pass'][3])) {
		 	if ($this->params['pass'][3] == '1-5') {

		 	$MI_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
			));
		
			$this->set('MI_pts', $MI_pts);
		
			$FD_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
			));
		
			$this->set('FD_pts', $FD_pts);
		
			$PO_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => 1)
			));
		
			$this->set('PO_pts', $PO_pts);
		
			$WW_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => 1)
			));
		
			$this->set('WW_pts', $WW_pts);
		
			$MG_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => 1)
			));
		
			$this->set('MG_pts', $MG_pts);
		
			$FO_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
			));
		
			$this->set('FO_pts', $FO_pts);
		 	
		 	} else if ($this->params['pass'][3] == '6-10') {

		 	$MI_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
			));
		
			$this->set('MI_pts', $MI_pts);
		
			$FD_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
			));
		
			$this->set('FD_pts', $FD_pts);
		
			$PO_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => 1)
			));
		
			$this->set('PO_pts', $PO_pts);
		
			$WW_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => 1)
			));
		
			$this->set('WW_pts', $WW_pts);
		
			$MG_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => 1)
			));
		
			$this->set('MG_pts', $MG_pts);
		
			$FO_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
			));
		
			$this->set('FO_pts', $FO_pts);
		 	
		 	} else if ($this->params['pass'][3] == '1-10') {

		 		 	$MI_pts = $this->Score->find('count', array(
			'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
			));
		
			$this->set('MI_pts', $MI_pts);
		
			$FD_pts = $this->Score->find('count', array(
			'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
			));
		
			$this->set('FD_pts', $FD_pts);
		
			$PO_pts = $this->Score->find('count', array(
			'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => 1)
			));
		
			$this->set('PO_pts', $PO_pts);
		
			$WW_pts = $this->Score->find('count', array(
			'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => 1)
			));
		
			$this->set('WW_pts', $WW_pts);
		
			$MG_pts = $this->Score->find('count', array(
			'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => 1)
			));
		
			$this->set('MG_pts', $MG_pts);
		
			$FO_pts = $this->Score->find('count', array(
			'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
			));
		
			$this->set('FO_pts', $FO_pts);
		 
		 	}
		  }
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//REPORT K////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reports_k() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
			$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
	
		$BI_pts = $this->Score->find('count', array(
		'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.BI_pts' => 1)
		));
		
		$this->set('BI_pts', $BI_pts);
		
		$FD_pts = $this->Score->find('count', array(
		'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
		));
		
		$this->set('FD_pts', $FD_pts);
		
		$PO_pts = $this->Score->find('count', array(
		'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => 1)
		));
		
		$this->set('PO_pts', $PO_pts);
		
		$WW_pts = $this->Score->find('count', array(
		'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => 1)
		));
		
		$this->set('WW_pts', $WW_pts);
		
		$MG_pts = $this->Score->find('count', array(
		'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => 1)
		));
		
		$this->set('MG_pts', $MG_pts);
		
		$FO_pts = $this->Score->find('count', array(
		'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
		));
		
		$this->set('FO_pts', $FO_pts);
	
	}
	
	/// CLASS REPORT K
	
	function admin_classreports_k() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'K';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REPORT VALUES - NO OF STUDENT RESPONSE 
		
		//1
		$noofresponse_BI = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.BI !=' => '')));
		
		$this->set('noofresponse_BI', $noofresponse_BI);
		
		//2
		$noofresponse_FD = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => '')));
		
		$this->set('noofresponse_FD', $noofresponse_FD);
		
		//3
		$noofresponse_PO = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO !=' => '')));
		
		$this->set('noofresponse_PO', $noofresponse_PO);
		
		//4
		$noofresponse_WW = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW !=' => '')));
		
		$this->set('noofresponse_WW', $noofresponse_WW);
		
		//5
		$noofresponse_MG = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG !=' => '')));
		
		$this->set('noofresponse_MG', $noofresponse_MG);
		
		//6
		$noofresponse_FO = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO !=' => '')));
		
		$this->set('noofresponse_FO', $noofresponse_FO);
		
		//////////////
		//////////////
		
		//START OF CLASS REPORT VALUES - NO OF CORRECT RESPONSE
		
		//1
		$nocorrect_BI = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.BI_pts' => 1)));
		
		$this->set('nocorrect_BI', $nocorrect_BI);
		
		//2
		$nocorrect_FD = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1')));
		
		$this->set('nocorrect_FD', $nocorrect_FD);
		
		//3
		$nocorrect_PO = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => '1')));
		
		$this->set('nocorrect_PO', $nocorrect_PO);
		
		//4
		$nocorrect_WW = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => '1')));
		
		$this->set('nocorrect_WW', $nocorrect_WW);
		
		//5
		$nocorrect_MG = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => '1')));
		
		$this->set('nocorrect_MG', $nocorrect_MG);
		
		//6
		$nocorrect_FO = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => '1')));
		
		$this->set('nocorrect_FO', $nocorrect_FO);
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=10; $i++) {
			$this->set('BIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.BI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('POGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.PO_pts' => 1))));
			
			$this->set('WWGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WW_pts' => 1))));
			
			$this->set('MGGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MG_pts' => 1))));
			
			$this->set('FOGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FO_pts' => 1))));
		}
			
		$noofstud = $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => 1)));
		
		$this->set('noofstud', $noofstud);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	// REPORT P CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reportsplus_p() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
	
		if (empty($this->params['pass'][3])) {

				$BI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.BI_pts' => 1)
				));
				
				$this->set('BI_pts', $BI_pts);
				
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
				
				$this->set('FD_pts', $FD_pts);
				
				$PO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => 1)
				));
				
				$this->set('PO_pts', $PO_pts);
				
				$WW_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => 1)
				));
				
				$this->set('WW_pts', $WW_pts);
				
				$MG_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => 1)
				));
				
				$this->set('MG_pts', $MG_pts);
				
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
				
				$this->set('FO_pts', $FO_pts);

		}

		if (!empty($this->params['pass'][3])) {
			if ($this->params['pass'][3] == '1-5') {

					$BI_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.BI_pts' => 1)
					));
					
					$this->set('BI_pts', $BI_pts);
					
					$FD_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
					));
					
					$this->set('FD_pts', $FD_pts);
					
					$PO_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => 1)
					));
					
					$this->set('PO_pts', $PO_pts);
					
					$WW_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => 1)
					));
					
					$this->set('WW_pts', $WW_pts);
					
					$MG_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => 1)
					));
					
					$this->set('MG_pts', $MG_pts);
					
					$FO_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
					));
					
					$this->set('FO_pts', $FO_pts);

			} else if ($this->params['pass'][3] == '6-10') {

					$BI_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.BI_pts' => 1)
					));
					
					$this->set('BI_pts', $BI_pts);
					
					$FD_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
					));
					
					$this->set('FD_pts', $FD_pts);
					
					$PO_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => 1)
					));
					
					$this->set('PO_pts', $PO_pts);
					
					$WW_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => 1)
					));
					
					$this->set('WW_pts', $WW_pts);
					
					$MG_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => 1)
					));
					
					$this->set('MG_pts', $MG_pts);
					
					$FO_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
					));
					
					$this->set('FO_pts', $FO_pts);

			} else if ($this->params['pass'][3] == '11-15') {

					$BI_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.BI_pts' => 1)
					));
					
					$this->set('BI_pts', $BI_pts);
					
					$FD_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
					));
					
					$this->set('FD_pts', $FD_pts);
					
					$PO_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => 1)
					));
					
					$this->set('PO_pts', $PO_pts);
					
					$WW_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => 1)
					));
					
					$this->set('WW_pts', $WW_pts);
					
					$MG_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => 1)
					));
					
					$this->set('MG_pts', $MG_pts);
					
					$FO_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
					));
					
					$this->set('FO_pts', $FO_pts);

			} else if ($this->params['pass'][3] == '1-15') {

					$BI_pts = $this->Score->find('count', array(
					'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.BI_pts' => 1)
					));
					
					$this->set('BI_pts', $BI_pts);
					
					$FD_pts = $this->Score->find('count', array(
					'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
					));
					
					$this->set('FD_pts', $FD_pts);
					
					$PO_pts = $this->Score->find('count', array(
					'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => 1)
					));
					
					$this->set('PO_pts', $PO_pts);
					
					$WW_pts = $this->Score->find('count', array(
					'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => 1)
					));
					
					$this->set('WW_pts', $WW_pts);
					
					$MG_pts = $this->Score->find('count', array(
					'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => 1)
					));
					
					$this->set('MG_pts', $MG_pts);
					
					$FO_pts = $this->Score->find('count', array(
					'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
					));
					
					$this->set('FO_pts', $FO_pts);

			}
		}
	
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	// REPORT AA CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reportsplus_aa() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
	
		if (empty($this->params['pass'][3])) {

			$MI_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
			));
			
			$this->set('MI_pts', $MI_pts);
			
			$FD_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
			));
			
			$this->set('FD_pts', $FD_pts);
			
			$PO_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => 1)
			));
			
			$this->set('PO_pts', $PO_pts);
			
			$WW_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => 1)
			));
			
			$this->set('WW_pts', $WW_pts);
			
			$MG_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => 1)
			));
			
			$this->set('MG_pts', $MG_pts);
			
			$FO_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
			));
			
			$this->set('FO_pts', $FO_pts);

		}

			if (!empty($this->params['pass'][3])) {
				if ($this->params['pass'][3] == '1-5') {

					$MI_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
					));
					
					$this->set('MI_pts', $MI_pts);
					
					$FD_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
					));
					
					$this->set('FD_pts', $FD_pts);
					
					$PO_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => 1)
					));
					
					$this->set('PO_pts', $PO_pts);
					
					$WW_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => 1)
					));
					
					$this->set('WW_pts', $WW_pts);
					
					$MG_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => 1)
					));
					
					$this->set('MG_pts', $MG_pts);
					
					$FO_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
					));
					
					$this->set('FO_pts', $FO_pts);

				} else if ($this->params['pass'][3] == '6-10') {

					$MI_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
					));
					
					$this->set('MI_pts', $MI_pts);
					
					$FD_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
					));
					
					$this->set('FD_pts', $FD_pts);
					
					$PO_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => 1)
					));
					
					$this->set('PO_pts', $PO_pts);
					
					$WW_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => 1)
					));
					
					$this->set('WW_pts', $WW_pts);
					
					$MG_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => 1)
					));
					
					$this->set('MG_pts', $MG_pts);
					
					$FO_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
					));
					
					$this->set('FO_pts', $FO_pts);

				} else if ($this->params['pass'][3] == '11-15') {

					$MI_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
					));
					
					$this->set('MI_pts', $MI_pts);
					
					$FD_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
					));
					
					$this->set('FD_pts', $FD_pts);
					
					$PO_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => 1)
					));
					
					$this->set('PO_pts', $PO_pts);
					
					$WW_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => 1)
					));
					
					$this->set('WW_pts', $WW_pts);
					
					$MG_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => 1)
					));
					
					$this->set('MG_pts', $MG_pts);
					
					$FO_pts = $this->Score->find('count', array(
					'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
					));
					
					$this->set('FO_pts', $FO_pts);

				} else if ($this->params['pass'][3] == '1-15') {

					$MI_pts = $this->Score->find('count', array(
					'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
					));
					
					$this->set('MI_pts', $MI_pts);
					
					$FD_pts = $this->Score->find('count', array(
					'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
					));
					
					$this->set('FD_pts', $FD_pts);
					
					$PO_pts = $this->Score->find('count', array(
					'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => 1)
					));
					
					$this->set('PO_pts', $PO_pts);
					
					$WW_pts = $this->Score->find('count', array(
					'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => 1)
					));
					
					$this->set('WW_pts', $WW_pts);
					
					$MG_pts = $this->Score->find('count', array(
					'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => 1)
					));
					
					$this->set('MG_pts', $MG_pts);
					
					$FO_pts = $this->Score->find('count', array(
					'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
					));
					
					$this->set('FO_pts', $FO_pts);

				}
			 }
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	// REPORT A CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reportsplus_a() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
	
		if (empty($this->params['pass'][3])) {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$RP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RP_pts' => 1)
				));
		
				$this->set('RP_pts', $RP_pts);

		}

		if (!empty($this->params['pass'][3])) {
			if ($this->params['pass'][3] == '1-5') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$RP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RP_pts' => 1)
				));
		
				$this->set('RP_pts', $RP_pts);

			} else if ($this->params['pass'][3] == '6-10') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$RP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RP_pts' => 1)
				));
		
				$this->set('RP_pts', $RP_pts);

			} else if ($this->params['pass'][3] == '11-15') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$RP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RP_pts' => 1)
				));
		
				$this->set('RP_pts', $RP_pts);

			} else if ($this->params['pass'][3] == '1-15') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$RP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RP_pts' => 1)
				));
		
				$this->set('RP_pts', $RP_pts);

			}
		 }
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	// REPORT B CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reportsplus_b() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
	
		if (empty($this->params['pass'][3])) {

						$MI_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
						));
		
						$this->set('MI_pts', $MI_pts);
		
						$FD_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
						));
		
						$this->set('FD_pts', $FD_pts);
		
						$US_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
						));
		
						$this->set('US_pts', $US_pts);
		
						$CE_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
						));
		
						$this->set('CE_pts', $CE_pts);
		
						$CC_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
						));
		
						$this->set('CC_pts', $CC_pts);
		
						$MP_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
						));
		
						$this->set('MP_pts', $MP_pts);
		
						$WM_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
						));
		
						$this->set('WM_pts', $WM_pts);
		
						$CI_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
						));
		
						$this->set('CI_pts', $CI_pts);
		
						$FO_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
						));
		
						$this->set('FO_pts', $FO_pts);
		
						$AP_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
						));
		
						$this->set('AP_pts', $AP_pts);
		
						$FL_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
						));
		
						$this->set('FL_pts', $FL_pts);
		
						$RM_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => 1)
						));
		
						$this->set('RM_pts', $RM_pts);

		}

		if (!empty($this->params['pass'][3])) {
			if ($this->params['pass'][3] == '1-5') {

						$MI_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
						));
		
						$this->set('MI_pts', $MI_pts);
		
						$FD_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
						));
		
						$this->set('FD_pts', $FD_pts);
		
						$US_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
						));
		
						$this->set('US_pts', $US_pts);
		
						$CE_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
						));
		
						$this->set('CE_pts', $CE_pts);
		
						$CC_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
						));
		
						$this->set('CC_pts', $CC_pts);
		
						$MP_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
						));
		
						$this->set('MP_pts', $MP_pts);
		
						$WM_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
						));
		
						$this->set('WM_pts', $WM_pts);
		
						$CI_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
						));
		
						$this->set('CI_pts', $CI_pts);
		
						$FO_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
						));
		
						$this->set('FO_pts', $FO_pts);
		
						$AP_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
						));
		
						$this->set('AP_pts', $AP_pts);
		
						$FL_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
						));
		
						$this->set('FL_pts', $FL_pts);
		
						$RM_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => 1)
						));
		
						$this->set('RM_pts', $RM_pts);

			} else if ($this->params['pass'][3] == '6-10') {

						$MI_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
						));
		
						$this->set('MI_pts', $MI_pts);
		
						$FD_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
						));
		
						$this->set('FD_pts', $FD_pts);
		
						$US_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
						));
		
						$this->set('US_pts', $US_pts);
		
						$CE_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
						));
		
						$this->set('CE_pts', $CE_pts);
		
						$CC_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
						));
		
						$this->set('CC_pts', $CC_pts);
		
						$MP_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
						));
		
						$this->set('MP_pts', $MP_pts);
		
						$WM_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
						));
		
						$this->set('WM_pts', $WM_pts);
		
						$CI_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
						));
		
						$this->set('CI_pts', $CI_pts);
		
						$FO_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
						));
		
						$this->set('FO_pts', $FO_pts);
		
						$AP_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
						));
		
						$this->set('AP_pts', $AP_pts);
		
						$FL_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
						));
		
						$this->set('FL_pts', $FL_pts);
		
						$RM_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => 1)
						));
		
						$this->set('RM_pts', $RM_pts);

			} else if ($this->params['pass'][3] == '11-15') {

						$MI_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
						));
		
						$this->set('MI_pts', $MI_pts);
		
						$FD_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
						));
		
						$this->set('FD_pts', $FD_pts);
		
						$US_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
						));
		
						$this->set('US_pts', $US_pts);
		
						$CE_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
						));
		
						$this->set('CE_pts', $CE_pts);
		
						$CC_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
						));
		
						$this->set('CC_pts', $CC_pts);
		
						$MP_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
						));
		
						$this->set('MP_pts', $MP_pts);
		
						$WM_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
						));
		
						$this->set('WM_pts', $WM_pts);
		
						$CI_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
						));
		
						$this->set('CI_pts', $CI_pts);
		
						$FO_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
						));
		
						$this->set('FO_pts', $FO_pts);
		
						$AP_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
						));
		
						$this->set('AP_pts', $AP_pts);
		
						$FL_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
						));
		
						$this->set('FL_pts', $FL_pts);
		
						$RM_pts = $this->Score->find('count', array(
						'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => 1)
						));
		
						$this->set('RM_pts', $RM_pts);
		

			} else if ($this->params['pass'][3] == '1-15') {

						$MI_pts = $this->Score->find('count', array(
						'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
						));
		
						$this->set('MI_pts', $MI_pts);
		
						$FD_pts = $this->Score->find('count', array(
						'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
						));
		
						$this->set('FD_pts', $FD_pts);
		
						$US_pts = $this->Score->find('count', array(
						'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
						));
		
						$this->set('US_pts', $US_pts);
		
						$CE_pts = $this->Score->find('count', array(
						'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
						));
		
						$this->set('CE_pts', $CE_pts);
		
						$CC_pts = $this->Score->find('count', array(
						'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
						));
		
						$this->set('CC_pts', $CC_pts);
		
						$MP_pts = $this->Score->find('count', array(
						'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
						));
		
						$this->set('MP_pts', $MP_pts);
		
						$WM_pts = $this->Score->find('count', array(
						'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
						));
		
						$this->set('WM_pts', $WM_pts);
		
						$CI_pts = $this->Score->find('count', array(
						'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
						));
		
						$this->set('CI_pts', $CI_pts);
		
						$FO_pts = $this->Score->find('count', array(
						'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
						));
		
						$this->set('FO_pts', $FO_pts);
		
						$AP_pts = $this->Score->find('count', array(
						'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
						));
		
						$this->set('AP_pts', $AP_pts);
		
						$FL_pts = $this->Score->find('count', array(
						'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
						));
		
						$this->set('FL_pts', $FL_pts);
		
						$RM_pts = $this->Score->find('count', array(
						'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => 1)
						));
		
						$this->set('RM_pts', $RM_pts);

			}
		 }
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	// REPORT C CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reportsplus_c() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
	
		if (empty($this->params['pass'][3])) {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
				
				$this->set('MI_pts', $MI_pts);
				
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
				
				$this->set('FD_pts', $FD_pts);
				
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
				
				$this->set('US_pts', $US_pts);
				
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
				
				$this->set('CE_pts', $CE_pts);
				
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
				
				$this->set('CC_pts', $CC_pts);
				
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
				
				$this->set('MP_pts', $MP_pts);
				
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
				
				$this->set('WM_pts', $WM_pts);
				
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
				
				$this->set('CI_pts', $CI_pts);
				
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
				
				$this->set('FO_pts', $FO_pts);
				
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
				
				$this->set('AP_pts', $AP_pts);
				
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
				
				$this->set('FL_pts', $FL_pts);
				
				$RM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => 1)
				));
				
				$this->set('RM_pts', $RM_pts);

		}

		if (!empty($this->params['pass'][3])) {
			if ($this->params['pass'][3] == '1-5') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
				
				$this->set('MI_pts', $MI_pts);
				
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
				
				$this->set('FD_pts', $FD_pts);
				
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
				
				$this->set('US_pts', $US_pts);
				
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
				
				$this->set('CE_pts', $CE_pts);
				
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
				
				$this->set('CC_pts', $CC_pts);
				
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
				
				$this->set('MP_pts', $MP_pts);
				
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
				
				$this->set('WM_pts', $WM_pts);
				
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
				
				$this->set('CI_pts', $CI_pts);
				
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
				
				$this->set('FO_pts', $FO_pts);
				
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
				
				$this->set('AP_pts', $AP_pts);
				
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
				
				$this->set('FL_pts', $FL_pts);
				
				$RM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => 1)
				));
				
				$this->set('RM_pts', $RM_pts);

			} else if ($this->params['pass'][3] == '6-10') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
				
				$this->set('MI_pts', $MI_pts);
				
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
				
				$this->set('FD_pts', $FD_pts);
				
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
				
				$this->set('US_pts', $US_pts);
				
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
				
				$this->set('CE_pts', $CE_pts);
				
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
				
				$this->set('CC_pts', $CC_pts);
				
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
				
				$this->set('MP_pts', $MP_pts);
				
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
				
				$this->set('WM_pts', $WM_pts);
				
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
				
				$this->set('CI_pts', $CI_pts);
				
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
				
				$this->set('FO_pts', $FO_pts);
				
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
				
				$this->set('AP_pts', $AP_pts);
				
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
				
				$this->set('FL_pts', $FL_pts);
				
				$RM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => 1)
				));
				
				$this->set('RM_pts', $RM_pts);

			} else if ($this->params['pass'][3] == '11-15') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
				
				$this->set('MI_pts', $MI_pts);
				
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
				
				$this->set('FD_pts', $FD_pts);
				
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
				
				$this->set('US_pts', $US_pts);
				
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
				
				$this->set('CE_pts', $CE_pts);
				
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
				
				$this->set('CC_pts', $CC_pts);
				
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
				
				$this->set('MP_pts', $MP_pts);
				
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
				
				$this->set('WM_pts', $WM_pts);
				
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
				
				$this->set('CI_pts', $CI_pts);
				
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
				
				$this->set('FO_pts', $FO_pts);
				
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
				
				$this->set('AP_pts', $AP_pts);
				
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
				
				$this->set('FL_pts', $FL_pts);
				
				$RM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => 1)
				));
				
				$this->set('RM_pts', $RM_pts);

			} else if ($this->params['pass'][3] == '1-15') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
				
				$this->set('MI_pts', $MI_pts);
				
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
				
				$this->set('FD_pts', $FD_pts);
				
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
				
				$this->set('US_pts', $US_pts);
				
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
				
				$this->set('CE_pts', $CE_pts);
				
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
				
				$this->set('CC_pts', $CC_pts);
				
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
				
				$this->set('MP_pts', $MP_pts);
				
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
				
				$this->set('WM_pts', $WM_pts);
				
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
				
				$this->set('CI_pts', $CI_pts);
				
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
				
				$this->set('FO_pts', $FO_pts);
				
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
				
				$this->set('AP_pts', $AP_pts);
				
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
				
				$this->set('FL_pts', $FL_pts);
				
				$RM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => 1)
				));
				
				$this->set('RM_pts', $RM_pts);

			}
		 }
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	// REPORT D CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reportsplus_d() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
	
		if (empty($this->params['pass'][3])) {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		}

		if (!empty($this->params['pass'][3])) {
			if ($this->params['pass'][3] == '1-5') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			} else if ($this->params['pass'][3] == '6-10') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			} else if ($this->params['pass'][3] == '11-15') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			} else if ($this->params['pass'][3] == '1-15') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			}
		 }
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	// REPORT E CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reportsplus_e() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
	
		if (empty($this->params['pass'][3])) {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		}

		if (!empty($this->params['pass'][3])) {
			if ($this->params['pass'][3] == '1-5') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			} else if ($this->params['pass'][3] == '6-10') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			} else if ($this->params['pass'][3] == '11-15') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			} else if ($this->params['pass'][3] == '1-15') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			}
		 }
	
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	// REPORT F CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reportsplus_f() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
	
		if (empty($this->params['pass'][3])) {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		}

		if (!empty($this->params['pass'][3])) {
			if ($this->params['pass'][3] == '1-5') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			} else if ($this->params['pass'][3] == '6-10') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			} else if ($this->params['pass'][3] == '11-15') {

					$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			} else if ($this->params['pass'][3] == '1-15') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			}
		 }
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	// REPORT G CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reportsplus_g() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
	
		if (empty($this->params['pass'][3])) {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		}

		if (!empty($this->params['pass'][3])) {
			if ($this->params['pass'][3] == '1-5') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			} else if ($this->params['pass'][3] == '6-10') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			} else if ($this->params['pass'][3] == '11-15') {

					$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			} else if ($this->params['pass'][3] == '1-15') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			}
		 }
		

	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	// REPORT H CARS PLUS
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reportsplus_h() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
	
		if (empty($this->params['pass'][3])) {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

		}

		if (!empty($this->params['pass'][3])) {
			if ($this->params['pass'][3] == '1-5') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			} else if ($this->params['pass'][3] == '6-10') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			} else if ($this->params['pass'][3] == '11-15') {

					$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."11,12,13,14,15".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			} else if ($this->params['pass'][3] == '1-15') {

				$MI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)
				));
		
				$this->set('MI_pts', $MI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$US_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => 1)
				));
		
				$this->set('US_pts', $US_pts);
		
				$CE_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => 1)
				));
		
				$this->set('CE_pts', $CE_pts);
		
				$CC_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => 1)
				));
		
				$this->set('CC_pts', $CC_pts);
		
				$MP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => 1)
				));
		
				$this->set('MP_pts', $MP_pts);
		
				$WM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => 1)
				));
		
				$this->set('WM_pts', $WM_pts);
		
				$CI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => 1)
				));
		
				$this->set('CI_pts', $CI_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
		
				$AP_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => 1)
				));
		
				$this->set('AP_pts', $AP_pts);
		
				$FL_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => 1)
				));
		
				$this->set('FL_pts', $FL_pts);
		
				$SM_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => 1)
				));
		
				$this->set('SM_pts', $SM_pts);

			}
		 }
	
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//REPORT P////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reports_p() {
		
		$student = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $this->params['pass'][0]))); 
		
		$teacherQuery = $this->Score->Customer->find('first',array('conditions'=>array('Customer.id'=> $student['Customer']['customers_teacher_id'])));
		
		$testedDate = $this->Score->Test->find('first',array('conditions'=>array('Test.customer_id' => $this->params['pass'][0], 'Test.bk_session_id' => $this->params['pass'][1])));
		
		$studentName = $student['Customer']['customers_name'];
		$studentGender = $student['Customer']['customers_gender'];
		$studentPhoto = $student['Customer']['customers_image'];
		$studentTeacher = $teacherQuery['Customer']['customers_name'];
		$studentTestedOn = $testedDate['Test']['created'];
		
		$this->set('studentName', $studentName); 
		$this->set('studentGender', $studentGender); 
		$this->set('studentPhoto', $studentPhoto); 
		$this->set('studentTeacher', $studentTeacher); 
		$this->set('studentTestedOn', $studentTestedOn); 

		$this->layout = 'admin_student_test';
		
		$this->pageTitle= 'CARS & STARS Online / Student Report';
			
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
		
		$linkstudent = Router::url(array('controller' => "customers", 'action' => "index", "admin" => true), true);
			
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a href='".$linkstudent."'>Student</a><div class='breadcrumb_divider'></div><a class='current'>Student Report</a></article>";
		$this->set('breadcrumbs', $breadcrumbs);
		
		
		if (empty($this->params['pass'][3])) {
			
			$BI_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.BI_pts' => 1)
			));
		
			$this->set('BI_pts', $BI_pts);
		
			$FD_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
			));
		
			$this->set('FD_pts', $FD_pts);
		
			$PO_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => 1)
			));
		
			$this->set('PO_pts', $PO_pts);
		
			$WW_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => 1)
			));
		
			$this->set('WW_pts', $WW_pts);
		
			$MG_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => 1)
			));
		
			$this->set('MG_pts', $MG_pts);
		
			$FO_pts = $this->Score->find('count', array(
			'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
			));
		
			$this->set('FO_pts', $FO_pts);
			
		}
		
		if (!empty($this->params['pass'][3])) {
			if ($this->params['pass'][3] == '1-5') {
				
				$BI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.BI_pts' => 1)
				));
		
				$this->set('BI_pts', $BI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$PO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => 1)
				));
		
				$this->set('PO_pts', $PO_pts);
		
				$WW_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => 1)
				));
		
				$this->set('WW_pts', $WW_pts);
		
				$MG_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => 1)
				));
		
				$this->set('MG_pts', $MG_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."1,2,3,4,5".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
			
			} else if ($this->params['pass'][3] == '6-10') {
				
				$BI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.BI_pts' => 1)
				));
		
				$this->set('BI_pts', $BI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$PO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => 1)
				));
		
				$this->set('PO_pts', $PO_pts);
		
				$WW_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => 1)
				));
		
				$this->set('WW_pts', $WW_pts);
		
				$MG_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => 1)
				));
		
				$this->set('MG_pts', $MG_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.lesson IN'."("."6,7,8,9,10".")",'Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
			
			} else if ($this->params['pass'][3] == '1-10') {
				
				$BI_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.BI_pts' => 1)
				));
		
				$this->set('BI_pts', $BI_pts);
		
				$FD_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => 1)
				));
		
				$this->set('FD_pts', $FD_pts);
		
				$PO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => 1)
				));
		
				$this->set('PO_pts', $PO_pts);
		
				$WW_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => 1)
				));
		
				$this->set('WW_pts', $WW_pts);
		
				$MG_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => 1)
				));
		
				$this->set('MG_pts', $MG_pts);
		
				$FO_pts = $this->Score->find('count', array(
				'conditions' => array('Score.customer_id' => $this->params['pass'][0], 'Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => 1)
				));
		
				$this->set('FO_pts', $FO_pts);
			
			}
		 }
		
	
	}
		
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	/// CLASS REPORT P
	
	function admin_classreports_p() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'P';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REPORT VALUES - NO OF STUDENT RESPONSE 
		
		//1
		$noofresponse_BI = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.BI !=' => '')));
		
		$this->set('noofresponse_BI', $noofresponse_BI);
		
		//2
		$noofresponse_FD = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => '')));
		
		$this->set('noofresponse_FD', $noofresponse_FD);
		
		//3
		$noofresponse_PO = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO !=' => '')));
		
		$this->set('noofresponse_PO', $noofresponse_PO);
		
		//4
		$noofresponse_WW = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW !=' => '')));
		
		$this->set('noofresponse_WW', $noofresponse_WW);
		
		//5
		$noofresponse_MG = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG !=' => '')));
		
		$this->set('noofresponse_MG', $noofresponse_MG);
		
		//6
		$noofresponse_FO = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO !=' => '')));
		
		$this->set('noofresponse_FO', $noofresponse_FO);
		
		//////////////
		//////////////
		
		//START OF CLASS REPORT VALUES - NO OF CORRECT RESPONSE
		
		//1
		$nocorrect_BI = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.BI_pts' => 1)));
		
		$this->set('nocorrect_BI', $nocorrect_BI);
		
		//2
		$nocorrect_FD = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1')));
		
		$this->set('nocorrect_FD', $nocorrect_FD);
		
		//3
		$nocorrect_PO = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => '1')));
		
		$this->set('nocorrect_PO', $nocorrect_PO);
		
		//4
		$nocorrect_WW = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => '1')));
		
		$this->set('nocorrect_WW', $nocorrect_WW);
		
		//5
		$nocorrect_MG = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => '1')));
		
		$this->set('nocorrect_MG', $nocorrect_MG);
		
		//6
		$nocorrect_FO = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => '1')));
		
		$this->set('nocorrect_FO', $nocorrect_FO);
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=10; $i++) {
			$this->set('BIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.BI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('POGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.PO_pts' => 1))));
			
			$this->set('WWGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WW_pts' => 1))));
			
			$this->set('MGGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MG_pts' => 1))));
			
			$this->set('FOGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FO_pts' => 1))));
		}
			
		for ($i=1; $i<=10; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	// CLASS REPORT AA

	function admin_classreports_aa() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'AA';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REPORT VALUES - NO OF STUDENT RESPONSE 
		
		//1		
		$this->set('noofresponse_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI !=' => ''))));
		
		//2
		$this->set('noofresponse_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => ''))));
		
		//3
		$this->set('noofresponse_PO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO !=' => ''))));
		
		//4		
		$this->set('noofresponse_WW', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW !=' => ''))));
		
		//5
		$this->set('noofresponse_MG', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG !=' => ''))));
		
		//6		
		$this->set('noofresponse_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO !=' => ''))));
		
		//////////////
		//////////////
		
		//START OF CLASS REPORT VALUES - NO OF CORRECT RESPONSE
		
		//1
		$this->set('nocorrect_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1))));
		
		//2		
		$this->set('nocorrect_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1'))));
		
		//3		
		$this->set('nocorrect_PO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => '1'))));
		
		//4
		$this->set('nocorrect_WW', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => '1'))));
		
		//5		
		$this->set('nocorrect_MG', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => '1'))));
		
		//6		
		$this->set('nocorrect_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => '1'))));
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=10; $i++) {
			$this->set('MIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('POGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.PO_pts' => 1))));
			
			$this->set('WWGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WW_pts' => 1))));
			
			$this->set('MGGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MG_pts' => 1))));
			
			$this->set('FOGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FO_pts' => 1))));
		}
			
		for ($i=1; $i<=10; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	function admin_classreports_a() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'A';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REUSRT VALUES - NO OF STUDENT RESUSNSE 
		
		//1		
		$this->set('noofresponse_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI !=' => ''))));
		
		//2
		$this->set('noofresponse_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => ''))));
		
		//3
		$this->set('noofresponse_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US !=' => ''))));
		
		//4		
		$this->set('noofresponse_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE !=' => ''))));
		
		//5
		$this->set('noofresponse_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP !=' => ''))));
		
		//6		
		$this->set('noofresponse_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM !=' => ''))));

		//7		
		$this->set('noofresponse_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI !=' => ''))));

		//8		
		$this->set('noofresponse_RP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RP !=' => ''))));
		
		//////////////
		//////////////
		
		//START OF CLASS REUSRT VALUES - NO OF CORRECT RESUSNSE
		
		//1
		$this->set('nocorrect_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1))));
		
		//2		
		$this->set('nocorrect_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1'))));
		
		//3		
		$this->set('nocorrect_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => '1'))));
		
		//4
		$this->set('nocorrect_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => '1'))));
		
		//5		
		$this->set('nocorrect_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => '1'))));
		
		//6		
		$this->set('nocorrect_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => '1'))));

		//7		
		$this->set('nocorrect_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => '1'))));
		
		//8		
		$this->set('nocorrect_RP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RP_pts' => '1'))));
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=10; $i++) {
			
			$this->set('MIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('USGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.US_pts' => 1))));
			
			$this->set('CEGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CE_pts' => 1))));
			
			$this->set('MPGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MP_pts' => 1))));
			
			$this->set('WMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WM_pts' => 1))));

			$this->set('CIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CI_pts' => 1))));

			$this->set('RPGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.RP_pts' => 1))));
			
		}
		
		for ($i=1; $i<=10; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_classreports_b() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'B';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REUSRT VALUES - NO OF STUDENT RESUSNSE 
		
		//1		
		$this->set('noofresponse_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI !=' => ''))));
		
		//2
		$this->set('noofresponse_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => ''))));
		
		//3
		$this->set('noofresponse_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US !=' => ''))));
		
		//4		
		$this->set('noofresponse_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE !=' => ''))));

		//5	
		$this->set('noofresponse_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC !=' => ''))));
		
		//6
		$this->set('noofresponse_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP !=' => ''))));
		
		//7		
		$this->set('noofresponse_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM !=' => ''))));

		//8		
		$this->set('noofresponse_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI !=' => ''))));

		//9		
		$this->set('noofresponse_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO !=' => ''))));

		//10
		$this->set('noofresponse_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP !=' => ''))));

		//11
		$this->set('noofresponse_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL !=' => ''))));

		//12
		$this->set('noofresponse_RM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM !=' => ''))));
		
		//////////////
		//////////////
		
		//START OF CLASS REUSRT VALUES - NO OF CORRECT RESUSNSE
		
		//1
		$this->set('nocorrect_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1))));
		
		//2		
		$this->set('nocorrect_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1'))));
		
		//3		
		$this->set('nocorrect_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => '1'))));
		
		//4
		$this->set('nocorrect_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => '1'))));

		//5
		$this->set('nocorrect_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => '1'))));
		
		//6		
		$this->set('nocorrect_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => '1'))));
		
		//7		
		$this->set('nocorrect_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => '1'))));

		//8		
		$this->set('nocorrect_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => '1'))));
		
		//9		
		$this->set('nocorrect_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => '1'))));

		//10		
		$this->set('nocorrect_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => '1'))));

		//11	
		$this->set('nocorrect_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => '1'))));

		//12	
		$this->set('nocorrect_RM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => '1'))));
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=10; $i++) {
			$this->set('MIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('USGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.US_pts' => 1))));
			
			$this->set('CEGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CE_pts' => 1))));

			$this->set('CCGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CC_pts' => 1))));
			
			$this->set('MPGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MP_pts' => 1))));
			
			$this->set('WMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WM_pts' => 1))));

			$this->set('CIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CI_pts' => 1))));

			$this->set('FOGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FO_pts' => 1))));

			$this->set('APGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.AP_pts' => 1))));

			$this->set('FLGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FL_pts' => 1))));

			$this->set('RMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.RM_pts' => 1))));
		}
			
		for ($i=1; $i<=10; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_classreports_c() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'C';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REUSRT VALUES - NO OF STUDENT RESUSNSE 
		
		//1		
		$this->set('noofresponse_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI !=' => ''))));
		
		//2
		$this->set('noofresponse_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => ''))));
		
		//3
		$this->set('noofresponse_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US !=' => ''))));
		
		//4		
		$this->set('noofresponse_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE !=' => ''))));

		//5	
		$this->set('noofresponse_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC !=' => ''))));
		
		//6
		$this->set('noofresponse_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP !=' => ''))));
		
		//7		
		$this->set('noofresponse_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM !=' => ''))));

		//8		
		$this->set('noofresponse_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI !=' => ''))));

		//9		
		$this->set('noofresponse_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO !=' => ''))));

		//10
		$this->set('noofresponse_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP !=' => ''))));

		//11
		$this->set('noofresponse_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL !=' => ''))));

		//12
		$this->set('noofresponse_RM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM !=' => ''))));
		
		//////////////
		//////////////
		
		//START OF CLASS REUSRT VALUES - NO OF CORRECT RESUSNSE
		
		//1
		$this->set('nocorrect_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1))));
		
		//2		
		$this->set('nocorrect_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1'))));
		
		//3		
		$this->set('nocorrect_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => '1'))));
		
		//4
		$this->set('nocorrect_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => '1'))));

		//5
		$this->set('nocorrect_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => '1'))));
		
		//6		
		$this->set('nocorrect_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => '1'))));
		
		//7		
		$this->set('nocorrect_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => '1'))));

		//8		
		$this->set('nocorrect_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => '1'))));
		
		//9		
		$this->set('nocorrect_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => '1'))));

		//10		
		$this->set('nocorrect_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => '1'))));

		//11	
		$this->set('nocorrect_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => '1'))));

		//12	
		$this->set('nocorrect_RM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => '1'))));
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=10; $i++) {
			$this->set('MIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('USGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.US_pts' => 1))));
			
			$this->set('CEGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CE_pts' => 1))));

			$this->set('CCGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CC_pts' => 1))));
			
			$this->set('MPGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MP_pts' => 1))));
			
			$this->set('WMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WM_pts' => 1))));

			$this->set('CIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CI_pts' => 1))));

			$this->set('FOGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FO_pts' => 1))));

			$this->set('APGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.AP_pts' => 1))));

			$this->set('FLGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FL_pts' => 1))));

			$this->set('RMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.RM_pts' => 1))));
		}
			
		for ($i=1; $i<=10; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_classreports_d() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'D';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REUSRT VALUES - NO OF STUDENT RESUSNSE 
		
		//1		
		$this->set('noofresponse_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI !=' => ''))));
		
		//2
		$this->set('noofresponse_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => ''))));
		
		//3
		$this->set('noofresponse_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US !=' => ''))));
		
		//4		
		$this->set('noofresponse_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE !=' => ''))));

		//5	
		$this->set('noofresponse_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC !=' => ''))));
		
		//6
		$this->set('noofresponse_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP !=' => ''))));
		
		//7		
		$this->set('noofresponse_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM !=' => ''))));

		//8		
		$this->set('noofresponse_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI !=' => ''))));

		//9		
		$this->set('noofresponse_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO !=' => ''))));

		//10
		$this->set('noofresponse_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP !=' => ''))));

		//11
		$this->set('noofresponse_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL !=' => ''))));

		//12
		$this->set('noofresponse_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM !=' => ''))));
		
		//////////////
		//////////////
		
		//START OF CLASS REUSRT VALUES - NO OF CORRECT RESUSNSE
		
		//1
		$this->set('nocorrect_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1))));
		
		//2		
		$this->set('nocorrect_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1'))));
		
		//3		
		$this->set('nocorrect_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => '1'))));
		
		//4
		$this->set('nocorrect_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => '1'))));

		//5
		$this->set('nocorrect_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => '1'))));
		
		//6		
		$this->set('nocorrect_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => '1'))));
		
		//7		
		$this->set('nocorrect_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => '1'))));

		//8		
		$this->set('nocorrect_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => '1'))));
		
		//9		
		$this->set('nocorrect_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => '1'))));

		//10		
		$this->set('nocorrect_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => '1'))));

		//11	
		$this->set('nocorrect_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => '1'))));

		//12	
		$this->set('nocorrect_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => '1'))));
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=10; $i++) {
			$this->set('MIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('USGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.US_pts' => 1))));
			
			$this->set('CEGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CE_pts' => 1))));

			$this->set('CCGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CC_pts' => 1))));
			
			$this->set('MPGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MP_pts' => 1))));
			
			$this->set('WMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WM_pts' => 1))));

			$this->set('CIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CI_pts' => 1))));

			$this->set('FOGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FO_pts' => 1))));

			$this->set('APGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.AP_pts' => 1))));

			$this->set('FLGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FL_pts' => 1))));

			$this->set('SMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.SM_pts' => 1))));
		}
			
		for ($i=1; $i<=10; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_classreports_e() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'E';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REUSRT VALUES - NO OF STUDENT RESUSNSE 
		
		//1		
		$this->set('noofresponse_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI !=' => ''))));
		
		//2
		$this->set('noofresponse_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => ''))));
		
		//3
		$this->set('noofresponse_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US !=' => ''))));
		
		//4		
		$this->set('noofresponse_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE !=' => ''))));

		//5	
		$this->set('noofresponse_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC !=' => ''))));
		
		//6
		$this->set('noofresponse_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP !=' => ''))));
		
		//7		
		$this->set('noofresponse_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM !=' => ''))));

		//8		
		$this->set('noofresponse_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI !=' => ''))));

		//9		
		$this->set('noofresponse_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO !=' => ''))));

		//10
		$this->set('noofresponse_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP !=' => ''))));

		//11
		$this->set('noofresponse_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL !=' => ''))));

		//12
		$this->set('noofresponse_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM !=' => ''))));
		
		//////////////
		//////////////
		
		//START OF CLASS REUSRT VALUES - NO OF CORRECT RESUSNSE
		
		//1
		$this->set('nocorrect_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1))));
		
		//2		
		$this->set('nocorrect_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1'))));
		
		//3		
		$this->set('nocorrect_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => '1'))));
		
		//4
		$this->set('nocorrect_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => '1'))));

		//5
		$this->set('nocorrect_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => '1'))));
		
		//6		
		$this->set('nocorrect_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => '1'))));
		
		//7		
		$this->set('nocorrect_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => '1'))));

		//8		
		$this->set('nocorrect_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => '1'))));
		
		//9		
		$this->set('nocorrect_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => '1'))));

		//10		
		$this->set('nocorrect_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => '1'))));

		//11	
		$this->set('nocorrect_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => '1'))));

		//12	
		$this->set('nocorrect_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => '1'))));
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=10; $i++) {
			$this->set('MIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('USGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.US_pts' => 1))));
			
			$this->set('CEGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CE_pts' => 1))));

			$this->set('CCGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CC_pts' => 1))));
			
			$this->set('MPGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MP_pts' => 1))));
			
			$this->set('WMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WM_pts' => 1))));

			$this->set('CIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CI_pts' => 1))));

			$this->set('FOGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FO_pts' => 1))));

			$this->set('APGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.AP_pts' => 1))));

			$this->set('FLGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FL_pts' => 1))));

			$this->set('SMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.SM_pts' => 1))));
		}
			
		for ($i=1; $i<=10; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_classreports_f() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'F';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REUSRT VALUES - NO OF STUDENT RESUSNSE 
		
		//1		
		$this->set('noofresponse_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI !=' => ''))));
		
		//2
		$this->set('noofresponse_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => ''))));
		
		//3
		$this->set('noofresponse_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US !=' => ''))));
		
		//4		
		$this->set('noofresponse_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE !=' => ''))));

		//5	
		$this->set('noofresponse_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC !=' => ''))));
		
		//6
		$this->set('noofresponse_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP !=' => ''))));
		
		//7		
		$this->set('noofresponse_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM !=' => ''))));

		//8		
		$this->set('noofresponse_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI !=' => ''))));

		//9		
		$this->set('noofresponse_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO !=' => ''))));

		//10
		$this->set('noofresponse_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP !=' => ''))));

		//11
		$this->set('noofresponse_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL !=' => ''))));

		//12
		$this->set('noofresponse_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM !=' => ''))));
		
		//////////////
		//////////////
		
		//START OF CLASS REUSRT VALUES - NO OF CORRECT RESUSNSE
		
		//1
		$this->set('nocorrect_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1))));
		
		//2		
		$this->set('nocorrect_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1'))));
		
		//3		
		$this->set('nocorrect_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => '1'))));
		
		//4
		$this->set('nocorrect_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => '1'))));

		//5
		$this->set('nocorrect_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => '1'))));
		
		//6		
		$this->set('nocorrect_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => '1'))));
		
		//7		
		$this->set('nocorrect_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => '1'))));

		//8		
		$this->set('nocorrect_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => '1'))));
		
		//9		
		$this->set('nocorrect_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => '1'))));

		//10		
		$this->set('nocorrect_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => '1'))));

		//11	
		$this->set('nocorrect_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => '1'))));

		//12	
		$this->set('nocorrect_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => '1'))));
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=10; $i++) {
			$this->set('MIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('USGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.US_pts' => 1))));
			
			$this->set('CEGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CE_pts' => 1))));

			$this->set('CCGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CC_pts' => 1))));
			
			$this->set('MPGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MP_pts' => 1))));
			
			$this->set('WMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WM_pts' => 1))));

			$this->set('CIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CI_pts' => 1))));

			$this->set('FOGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FO_pts' => 1))));

			$this->set('APGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.AP_pts' => 1))));

			$this->set('FLGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FL_pts' => 1))));

			$this->set('SMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.SM_pts' => 1))));
		}
			
		for ($i=1; $i<=10; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_classreports_g() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'G';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REUSRT VALUES - NO OF STUDENT RESUSNSE 
		
		//1		
		$this->set('noofresponse_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI !=' => ''))));
		
		//2
		$this->set('noofresponse_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => ''))));
		
		//3
		$this->set('noofresponse_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US !=' => ''))));
		
		//4		
		$this->set('noofresponse_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE !=' => ''))));

		//5	
		$this->set('noofresponse_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC !=' => ''))));
		
		//6
		$this->set('noofresponse_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP !=' => ''))));
		
		//7		
		$this->set('noofresponse_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM !=' => ''))));

		//8		
		$this->set('noofresponse_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI !=' => ''))));

		//9		
		$this->set('noofresponse_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO !=' => ''))));

		//10
		$this->set('noofresponse_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP !=' => ''))));

		//11
		$this->set('noofresponse_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL !=' => ''))));

		//12
		$this->set('noofresponse_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM !=' => ''))));
		
		//////////////
		//////////////
		
		//START OF CLASS REUSRT VALUES - NO OF CORRECT RESUSNSE
		
		//1
		$this->set('nocorrect_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1))));
		
		//2		
		$this->set('nocorrect_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1'))));
		
		//3		
		$this->set('nocorrect_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => '1'))));
		
		//4
		$this->set('nocorrect_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => '1'))));

		//5
		$this->set('nocorrect_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => '1'))));
		
		//6		
		$this->set('nocorrect_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => '1'))));
		
		//7		
		$this->set('nocorrect_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => '1'))));

		//8		
		$this->set('nocorrect_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => '1'))));
		
		//9		
		$this->set('nocorrect_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => '1'))));

		//10		
		$this->set('nocorrect_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => '1'))));

		//11	
		$this->set('nocorrect_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => '1'))));

		//12	
		$this->set('nocorrect_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => '1'))));
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=10; $i++) {
			$this->set('MIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('USGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.US_pts' => 1))));
			
			$this->set('CEGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CE_pts' => 1))));

			$this->set('CCGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CC_pts' => 1))));
			
			$this->set('MPGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MP_pts' => 1))));
			
			$this->set('WMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WM_pts' => 1))));

			$this->set('CIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CI_pts' => 1))));

			$this->set('FOGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FO_pts' => 1))));

			$this->set('APGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.AP_pts' => 1))));

			$this->set('FLGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FL_pts' => 1))));

			$this->set('SMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.SM_pts' => 1))));
		}
			
		for ($i=1; $i<=10; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_classreports_h() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'H';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REUSRT VALUES - NO OF STUDENT RESUSNSE 
		
		//1		
		$this->set('noofresponse_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI !=' => ''))));
		
		//2
		$this->set('noofresponse_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => ''))));
		
		//3
		$this->set('noofresponse_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US !=' => ''))));
		
		//4		
		$this->set('noofresponse_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE !=' => ''))));

		//5	
		$this->set('noofresponse_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC !=' => ''))));
		
		//6
		$this->set('noofresponse_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP !=' => ''))));
		
		//7		
		$this->set('noofresponse_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM !=' => ''))));

		//8		
		$this->set('noofresponse_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI !=' => ''))));

		//9		
		$this->set('noofresponse_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO !=' => ''))));

		//10
		$this->set('noofresponse_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP !=' => ''))));

		//11
		$this->set('noofresponse_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL !=' => ''))));

		//12
		$this->set('noofresponse_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM !=' => ''))));
		
		//////////////
		//////////////
		
		//START OF CLASS REUSRT VALUES - NO OF CORRECT RESUSNSE
		
		//1
		$this->set('nocorrect_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1))));
		
		//2		
		$this->set('nocorrect_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1'))));
		
		//3		
		$this->set('nocorrect_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => '1'))));
		
		//4
		$this->set('nocorrect_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => '1'))));

		//5
		$this->set('nocorrect_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => '1'))));
		
		//6		
		$this->set('nocorrect_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => '1'))));
		
		//7		
		$this->set('nocorrect_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => '1'))));

		//8		
		$this->set('nocorrect_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => '1'))));
		
		//9		
		$this->set('nocorrect_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => '1'))));

		//10		
		$this->set('nocorrect_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => '1'))));

		//11	
		$this->set('nocorrect_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => '1'))));

		//12	
		$this->set('nocorrect_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => '1'))));
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=10; $i++) {
			$this->set('MIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('USGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.US_pts' => 1))));
			
			$this->set('CEGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CE_pts' => 1))));

			$this->set('CCGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CC_pts' => 1))));
			
			$this->set('MPGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MP_pts' => 1))));
			
			$this->set('WMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WM_pts' => 1))));

			$this->set('CIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CI_pts' => 1))));

			$this->set('FOGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FO_pts' => 1))));

			$this->set('APGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.AP_pts' => 1))));

			$this->set('FLGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FL_pts' => 1))));

			$this->set('SMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.SM_pts' => 1))));
		}
			
		for ($i=1; $i<=10; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	/// CLASS REPORTS PLUS P
	
	function admin_classreportsplus_p() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'P';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REPORT VALUES - NO OF STUDENT RESPONSE 
		
		//1
		$noofresponse_BI = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.BI !=' => '')));
		
		$this->set('noofresponse_BI', $noofresponse_BI);
		
		//2
		$noofresponse_FD = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => '')));
		
		$this->set('noofresponse_FD', $noofresponse_FD);
		
		//3
		$noofresponse_PO = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO !=' => '')));
		
		$this->set('noofresponse_PO', $noofresponse_PO);
		
		//4
		$noofresponse_WW = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW !=' => '')));
		
		$this->set('noofresponse_WW', $noofresponse_WW);
		
		//5
		$noofresponse_MG = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG !=' => '')));
		
		$this->set('noofresponse_MG', $noofresponse_MG);
		
		//6
		$noofresponse_FO = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO !=' => '')));
		
		$this->set('noofresponse_FO', $noofresponse_FO);
		
		//////////////
		//////////////
		
		//START OF CLASS REPORT VALUES - NO OF CORRECT RESPONSE
		
		//1
		$nocorrect_BI = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.BI_pts' => 1)));
		
		$this->set('nocorrect_BI', $nocorrect_BI);
		
		//2
		$nocorrect_FD = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1')));
		
		$this->set('nocorrect_FD', $nocorrect_FD);
		
		//3
		$nocorrect_PO = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => '1')));
		
		$this->set('nocorrect_PO', $nocorrect_PO);
		
		//4
		$nocorrect_WW = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => '1')));
		
		$this->set('nocorrect_WW', $nocorrect_WW);
		
		//5
		$nocorrect_MG = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => '1')));
		
		$this->set('nocorrect_MG', $nocorrect_MG);
		
		//6
		$nocorrect_FO = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => '1')));
		
		$this->set('nocorrect_FO', $nocorrect_FO);
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=15; $i++) {
			$this->set('BIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.BI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('POGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.PO_pts' => 1))));
			
			$this->set('WWGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WW_pts' => 1))));
			
			$this->set('MGGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MG_pts' => 1))));
			
			$this->set('FOGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FO_pts' => 1))));
		}
			
		for ($i=1; $i<=15; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	/// CLASS REPORTS PLUS AA
	
	function admin_classreportsplus_aa() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'AA';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REPORT VALUES - NO OF STUDENT RESPONSE 
		
		//1
		$noofresponse_MI = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI !=' => '')));
		
		$this->set('noofresponse_MI', $noofresponse_MI);
		
		//2
		$noofresponse_FD = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => '')));
		
		$this->set('noofresponse_FD', $noofresponse_FD);
		
		//3
		$noofresponse_PO = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO !=' => '')));
		
		$this->set('noofresponse_PO', $noofresponse_PO);
		
		//4
		$noofresponse_WW = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW !=' => '')));
		
		$this->set('noofresponse_WW', $noofresponse_WW);
		
		//5
		$noofresponse_MG = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG !=' => '')));
		
		$this->set('noofresponse_MG', $noofresponse_MG);
		
		//6
		$noofresponse_FO = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO !=' => '')));
		
		$this->set('noofresponse_FO', $noofresponse_FO);
		
		//////////////
		//////////////
		
		//START OF CLASS REPORT VALUES - NO OF CORRECT RESPONSE
		
		//1
		$nocorrect_MI = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1)));
		
		$this->set('nocorrect_MI', $nocorrect_MI);
		
		//2
		$nocorrect_FD = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1')));
		
		$this->set('nocorrect_FD', $nocorrect_FD);
		
		//3
		$nocorrect_PO = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.PO_pts' => '1')));
		
		$this->set('nocorrect_PO', $nocorrect_PO);
		
		//4
		$nocorrect_WW = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WW_pts' => '1')));
		
		$this->set('nocorrect_WW', $nocorrect_WW);
		
		//5
		$nocorrect_MG = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MG_pts' => '1')));
		
		$this->set('nocorrect_MG', $nocorrect_MG);
		
		//6
		$nocorrect_FO = $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => '1')));
		
		$this->set('nocorrect_FO', $nocorrect_FO);
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=15; $i++) {
			$this->set('MIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('POGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.PO_pts' => 1))));
			
			$this->set('WWGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WW_pts' => 1))));
			
			$this->set('MGGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MG_pts' => 1))));
			
			$this->set('FOGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FO_pts' => 1))));
		}
			
		for ($i=1; $i<=15; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	/// CLASS REPORTS PLUS A
	
	function admin_classreportsplus_a() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'A';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REUSRT VALUES - NO OF STUDENT RESUSNSE 
		
		//1		
		$this->set('noofresponse_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI !=' => ''))));
		
		//2
		$this->set('noofresponse_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => ''))));
		
		//3
		$this->set('noofresponse_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US !=' => ''))));
		
		//4		
		$this->set('noofresponse_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE !=' => ''))));
		
		//5
		$this->set('noofresponse_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP !=' => ''))));
		
		//6		
		$this->set('noofresponse_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM !=' => ''))));

		//7		
		$this->set('noofresponse_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI !=' => ''))));

		//8		
		$this->set('noofresponse_RP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RP !=' => ''))));
		
		//////////////
		//////////////
		
		//START OF CLASS RETURN VALUES - NO OF CORRECT 
		
		//1
		$this->set('nocorrect_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1))));
		
		//2		
		$this->set('nocorrect_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1'))));
		
		//3		
		$this->set('nocorrect_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => '1'))));
		
		//4
		$this->set('nocorrect_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => '1'))));
		
		//5		
		$this->set('nocorrect_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => '1'))));
		
		//6		
		$this->set('nocorrect_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => '1'))));

		//7		
		$this->set('nocorrect_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => '1'))));
		
		//8		
		$this->set('nocorrect_RP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RP_pts' => '1'))));
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=15; $i++) {
			
			$this->set('MIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('USGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.US_pts' => 1))));
			
			$this->set('CEGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CE_pts' => 1))));
			
			$this->set('MPGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MP_pts' => 1))));
			
			$this->set('WMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WM_pts' => 1))));

			$this->set('CIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CI_pts' => 1))));

			$this->set('RPGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.RP_pts' => 1))));
			
		}
		
		for ($i=1; $i<=15; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	/// CLASS REPORTS PLUS B
	
	function admin_classreportsplus_b() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'B';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REUSRT VALUES - NO OF STUDENT RESUSNSE 
		
		//1		
		$this->set('noofresponse_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI !=' => ''))));
		
		//2
		$this->set('noofresponse_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => ''))));
		
		//3
		$this->set('noofresponse_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US !=' => ''))));
		
		//4		
		$this->set('noofresponse_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE !=' => ''))));

		//5	
		$this->set('noofresponse_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC !=' => ''))));
		
		//6
		$this->set('noofresponse_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP !=' => ''))));
		
		//7		
		$this->set('noofresponse_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM !=' => ''))));

		//8		
		$this->set('noofresponse_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI !=' => ''))));

		//9		
		$this->set('noofresponse_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO !=' => ''))));

		//10
		$this->set('noofresponse_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP !=' => ''))));

		//11
		$this->set('noofresponse_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL !=' => ''))));

		//12
		$this->set('noofresponse_RM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM !=' => ''))));
		
		//////////////
		//////////////
		
		//START OF CLASS REUSRT VALUES - NO OF CORRECT RESUSNSE
		
		//1
		$this->set('nocorrect_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1))));
		
		//2		
		$this->set('nocorrect_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1'))));
		
		//3		
		$this->set('nocorrect_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => '1'))));
		
		//4
		$this->set('nocorrect_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => '1'))));

		//5
		$this->set('nocorrect_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => '1'))));
		
		//6		
		$this->set('nocorrect_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => '1'))));
		
		//7		
		$this->set('nocorrect_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => '1'))));

		//8		
		$this->set('nocorrect_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => '1'))));
		
		//9		
		$this->set('nocorrect_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => '1'))));

		//10		
		$this->set('nocorrect_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => '1'))));

		//11	
		$this->set('nocorrect_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => '1'))));

		//12	
		$this->set('nocorrect_RM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => '1'))));
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=15; $i++) {
			$this->set('MIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('USGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.US_pts' => 1))));
			
			$this->set('CEGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CE_pts' => 1))));

			$this->set('CCGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CC_pts' => 1))));
			
			$this->set('MPGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MP_pts' => 1))));
			
			$this->set('WMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WM_pts' => 1))));

			$this->set('CIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CI_pts' => 1))));

			$this->set('FOGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FO_pts' => 1))));

			$this->set('APGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.AP_pts' => 1))));

			$this->set('FLGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FL_pts' => 1))));

			$this->set('RMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.RM_pts' => 1))));
		}
			
		for ($i=1; $i<=15; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	/// CLASS REPORTS PLUS C
	
	function admin_classreportsplus_c() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'C';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REUSRT VALUES - NO OF STUDENT RESUSNSE 
		
		//1		
		$this->set('noofresponse_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI !=' => ''))));
		
		//2
		$this->set('noofresponse_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => ''))));
		
		//3
		$this->set('noofresponse_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US !=' => ''))));
		
		//4		
		$this->set('noofresponse_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE !=' => ''))));

		//5	
		$this->set('noofresponse_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC !=' => ''))));
		
		//6
		$this->set('noofresponse_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP !=' => ''))));
		
		//7		
		$this->set('noofresponse_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM !=' => ''))));

		//8		
		$this->set('noofresponse_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI !=' => ''))));

		//9		
		$this->set('noofresponse_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO !=' => ''))));

		//10
		$this->set('noofresponse_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP !=' => ''))));

		//11
		$this->set('noofresponse_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL !=' => ''))));

		//12
		$this->set('noofresponse_RM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM !=' => ''))));
		
		//////////////
		//////////////
		
		//START OF CLASS REUSRT VALUES - NO OF CORRECT RESUSNSE
		
		//1
		$this->set('nocorrect_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1))));
		
		//2		
		$this->set('nocorrect_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1'))));
		
		//3		
		$this->set('nocorrect_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => '1'))));
		
		//4
		$this->set('nocorrect_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => '1'))));

		//5
		$this->set('nocorrect_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => '1'))));
		
		//6		
		$this->set('nocorrect_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => '1'))));
		
		//7		
		$this->set('nocorrect_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => '1'))));

		//8		
		$this->set('nocorrect_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => '1'))));
		
		//9		
		$this->set('nocorrect_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => '1'))));

		//10		
		$this->set('nocorrect_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => '1'))));

		//11	
		$this->set('nocorrect_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => '1'))));

		//12	
		$this->set('nocorrect_RM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.RM_pts' => '1'))));
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=15; $i++) {
			$this->set('MIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('USGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.US_pts' => 1))));
			
			$this->set('CEGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CE_pts' => 1))));

			$this->set('CCGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CC_pts' => 1))));
			
			$this->set('MPGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MP_pts' => 1))));
			
			$this->set('WMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WM_pts' => 1))));

			$this->set('CIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CI_pts' => 1))));

			$this->set('FOGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FO_pts' => 1))));

			$this->set('APGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.AP_pts' => 1))));

			$this->set('FLGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FL_pts' => 1))));

			$this->set('RMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.RM_pts' => 1))));
		}
			
		for ($i=1; $i<=15; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	/// CLASS REPORTS PLUS D
	
	function admin_classreportsplus_d() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'D';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REUSRT VALUES - NO OF STUDENT RESUSNSE 
		
		//1		
		$this->set('noofresponse_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI !=' => ''))));
		
		//2
		$this->set('noofresponse_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => ''))));
		
		//3
		$this->set('noofresponse_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US !=' => ''))));
		
		//4		
		$this->set('noofresponse_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE !=' => ''))));

		//5	
		$this->set('noofresponse_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC !=' => ''))));
		
		//6
		$this->set('noofresponse_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP !=' => ''))));
		
		//7		
		$this->set('noofresponse_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM !=' => ''))));

		//8		
		$this->set('noofresponse_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI !=' => ''))));

		//9		
		$this->set('noofresponse_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO !=' => ''))));

		//10
		$this->set('noofresponse_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP !=' => ''))));

		//11
		$this->set('noofresponse_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL !=' => ''))));

		//12
		$this->set('noofresponse_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM !=' => ''))));
		
		//////////////
		//////////////
		
		//START OF CLASS REUSRT VALUES - NO OF CORRECT RESUSNSE
		
		//1
		$this->set('nocorrect_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1))));
		
		//2		
		$this->set('nocorrect_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1'))));
		
		//3		
		$this->set('nocorrect_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => '1'))));
		
		//4
		$this->set('nocorrect_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => '1'))));

		//5
		$this->set('nocorrect_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => '1'))));
		
		//6		
		$this->set('nocorrect_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => '1'))));
		
		//7		
		$this->set('nocorrect_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => '1'))));

		//8		
		$this->set('nocorrect_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => '1'))));
		
		//9		
		$this->set('nocorrect_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => '1'))));

		//10		
		$this->set('nocorrect_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => '1'))));

		//11	
		$this->set('nocorrect_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => '1'))));

		//12	
		$this->set('nocorrect_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => '1'))));
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=15; $i++) {
			$this->set('MIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('USGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.US_pts' => 1))));
			
			$this->set('CEGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CE_pts' => 1))));

			$this->set('CCGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CC_pts' => 1))));
			
			$this->set('MPGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MP_pts' => 1))));
			
			$this->set('WMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WM_pts' => 1))));

			$this->set('CIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CI_pts' => 1))));

			$this->set('FOGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FO_pts' => 1))));

			$this->set('APGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.AP_pts' => 1))));

			$this->set('FLGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FL_pts' => 1))));

			$this->set('SMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.SM_pts' => 1))));
		}
			
		for ($i=1; $i<=15; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	/// CLASS REPORTS PLUS E
	
	function admin_classreportsplus_e() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'E';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REUSRT VALUES - NO OF STUDENT RESUSNSE 
		
		//1		
		$this->set('noofresponse_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI !=' => ''))));
		
		//2
		$this->set('noofresponse_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => ''))));
		
		//3
		$this->set('noofresponse_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US !=' => ''))));
		
		//4		
		$this->set('noofresponse_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE !=' => ''))));

		//5	
		$this->set('noofresponse_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC !=' => ''))));
		
		//6
		$this->set('noofresponse_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP !=' => ''))));
		
		//7		
		$this->set('noofresponse_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM !=' => ''))));

		//8		
		$this->set('noofresponse_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI !=' => ''))));

		//9		
		$this->set('noofresponse_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO !=' => ''))));

		//10
		$this->set('noofresponse_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP !=' => ''))));

		//11
		$this->set('noofresponse_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL !=' => ''))));

		//12
		$this->set('noofresponse_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM !=' => ''))));
		
		//////////////
		//////////////
		
		//START OF CLASS REUSRT VALUES - NO OF CORRECT RESUSNSE
		
		//1
		$this->set('nocorrect_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1))));
		
		//2		
		$this->set('nocorrect_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1'))));
		
		//3		
		$this->set('nocorrect_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => '1'))));
		
		//4
		$this->set('nocorrect_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => '1'))));

		//5
		$this->set('nocorrect_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => '1'))));
		
		//6		
		$this->set('nocorrect_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => '1'))));
		
		//7		
		$this->set('nocorrect_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => '1'))));

		//8		
		$this->set('nocorrect_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => '1'))));
		
		//9		
		$this->set('nocorrect_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => '1'))));

		//10		
		$this->set('nocorrect_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => '1'))));

		//11	
		$this->set('nocorrect_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => '1'))));

		//12	
		$this->set('nocorrect_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => '1'))));
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=15; $i++) {
			$this->set('MIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('USGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.US_pts' => 1))));
			
			$this->set('CEGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CE_pts' => 1))));

			$this->set('CCGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CC_pts' => 1))));
			
			$this->set('MPGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MP_pts' => 1))));
			
			$this->set('WMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WM_pts' => 1))));

			$this->set('CIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CI_pts' => 1))));

			$this->set('FOGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FO_pts' => 1))));

			$this->set('APGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.AP_pts' => 1))));

			$this->set('FLGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FL_pts' => 1))));

			$this->set('SMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.SM_pts' => 1))));
		}
			
		for ($i=1; $i<=15; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	/// CLASS REPORTS PLUS F
	
	function admin_classreportsplus_f() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'F';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REUSRT VALUES - NO OF STUDENT RESUSNSE 
		
		//1		
		$this->set('noofresponse_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI !=' => ''))));
		
		//2
		$this->set('noofresponse_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => ''))));
		
		//3
		$this->set('noofresponse_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US !=' => ''))));
		
		//4		
		$this->set('noofresponse_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE !=' => ''))));

		//5	
		$this->set('noofresponse_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC !=' => ''))));
		
		//6
		$this->set('noofresponse_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP !=' => ''))));
		
		//7		
		$this->set('noofresponse_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM !=' => ''))));

		//8		
		$this->set('noofresponse_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI !=' => ''))));

		//9		
		$this->set('noofresponse_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO !=' => ''))));

		//10
		$this->set('noofresponse_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP !=' => ''))));

		//11
		$this->set('noofresponse_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL !=' => ''))));

		//12
		$this->set('noofresponse_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM !=' => ''))));
		
		//////////////
		//////////////
		
		//START OF CLASS REUSRT VALUES - NO OF CORRECT RESUSNSE
		
		//1
		$this->set('nocorrect_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1))));
		
		//2		
		$this->set('nocorrect_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1'))));
		
		//3		
		$this->set('nocorrect_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => '1'))));
		
		//4
		$this->set('nocorrect_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => '1'))));

		//5
		$this->set('nocorrect_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => '1'))));
		
		//6		
		$this->set('nocorrect_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => '1'))));
		
		//7		
		$this->set('nocorrect_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => '1'))));

		//8		
		$this->set('nocorrect_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => '1'))));
		
		//9		
		$this->set('nocorrect_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => '1'))));

		//10		
		$this->set('nocorrect_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => '1'))));

		//11	
		$this->set('nocorrect_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => '1'))));

		//12	
		$this->set('nocorrect_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => '1'))));
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=15; $i++) {
			$this->set('MIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('USGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.US_pts' => 1))));
			
			$this->set('CEGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CE_pts' => 1))));

			$this->set('CCGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CC_pts' => 1))));
			
			$this->set('MPGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MP_pts' => 1))));
			
			$this->set('WMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WM_pts' => 1))));

			$this->set('CIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CI_pts' => 1))));

			$this->set('FOGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FO_pts' => 1))));

			$this->set('APGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.AP_pts' => 1))));

			$this->set('FLGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FL_pts' => 1))));

			$this->set('SMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.SM_pts' => 1))));
		}
			
		for ($i=1; $i<=15; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	/// CLASS REPORTS PLUS G
	
	function admin_classreportsplus_g() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'G';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REUSRT VALUES - NO OF STUDENT RESUSNSE 
		
		//1		
		$this->set('noofresponse_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI !=' => ''))));
		
		//2
		$this->set('noofresponse_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => ''))));
		
		//3
		$this->set('noofresponse_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US !=' => ''))));
		
		//4		
		$this->set('noofresponse_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE !=' => ''))));

		//5	
		$this->set('noofresponse_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC !=' => ''))));
		
		//6
		$this->set('noofresponse_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP !=' => ''))));
		
		//7		
		$this->set('noofresponse_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM !=' => ''))));

		//8		
		$this->set('noofresponse_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI !=' => ''))));

		//9		
		$this->set('noofresponse_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO !=' => ''))));

		//10
		$this->set('noofresponse_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP !=' => ''))));

		//11
		$this->set('noofresponse_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL !=' => ''))));

		//12
		$this->set('noofresponse_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM !=' => ''))));
		
		//////////////
		//////////////
		
		//START OF CLASS REUSRT VALUES - NO OF CORRECT RESUSNSE
		
		//1
		$this->set('nocorrect_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1))));
		
		//2		
		$this->set('nocorrect_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1'))));
		
		//3		
		$this->set('nocorrect_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => '1'))));
		
		//4
		$this->set('nocorrect_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => '1'))));

		//5
		$this->set('nocorrect_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => '1'))));
		
		//6		
		$this->set('nocorrect_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => '1'))));
		
		//7		
		$this->set('nocorrect_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => '1'))));

		//8		
		$this->set('nocorrect_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => '1'))));
		
		//9		
		$this->set('nocorrect_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => '1'))));

		//10		
		$this->set('nocorrect_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => '1'))));

		//11	
		$this->set('nocorrect_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => '1'))));

		//12	
		$this->set('nocorrect_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => '1'))));
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=15; $i++) {
			$this->set('MIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('USGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.US_pts' => 1))));
			
			$this->set('CEGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CE_pts' => 1))));

			$this->set('CCGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CC_pts' => 1))));
			
			$this->set('MPGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MP_pts' => 1))));
			
			$this->set('WMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WM_pts' => 1))));

			$this->set('CIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CI_pts' => 1))));

			$this->set('FOGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FO_pts' => 1))));

			$this->set('APGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.AP_pts' => 1))));

			$this->set('FLGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FL_pts' => 1))));

			$this->set('SMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.SM_pts' => 1))));
		}
			
		for ($i=1; $i<=15; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	/// CLASS REPORTS PLUS H
	
	function admin_classreportsplus_h() {
	
		$this->layout = 'admin_student_test';
		
		$booktype = 'H';
		
		$this->pageTitle= 'CARS & STARS Online / Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		
		//START OF CLASS REUSRT VALUES - NO OF STUDENT RESUSNSE 
		
		//1		
		$this->set('noofresponse_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI !=' => ''))));
		
		//2
		$this->set('noofresponse_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD !=' => ''))));
		
		//3
		$this->set('noofresponse_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US !=' => ''))));
		
		//4		
		$this->set('noofresponse_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE !=' => ''))));

		//5	
		$this->set('noofresponse_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC !=' => ''))));
		
		//6
		$this->set('noofresponse_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP !=' => ''))));
		
		//7		
		$this->set('noofresponse_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM !=' => ''))));

		//8		
		$this->set('noofresponse_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI !=' => ''))));

		//9		
		$this->set('noofresponse_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO !=' => ''))));

		//10
		$this->set('noofresponse_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP !=' => ''))));

		//11
		$this->set('noofresponse_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL !=' => ''))));

		//12
		$this->set('noofresponse_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM !=' => ''))));
		
		//////////////
		//////////////
		
		//START OF CLASS REUSRT VALUES - NO OF CORRECT RESUSNSE
		
		//1
		$this->set('nocorrect_MI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MI_pts' => 1))));
		
		//2		
		$this->set('nocorrect_FD', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FD_pts' => '1'))));
		
		//3		
		$this->set('nocorrect_US', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.US_pts' => '1'))));
		
		//4
		$this->set('nocorrect_CE', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CE_pts' => '1'))));

		//5
		$this->set('nocorrect_CC', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CC_pts' => '1'))));
		
		//6		
		$this->set('nocorrect_MP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.MP_pts' => '1'))));
		
		//7		
		$this->set('nocorrect_WM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.WM_pts' => '1'))));

		//8		
		$this->set('nocorrect_CI', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.CI_pts' => '1'))));
		
		//9		
		$this->set('nocorrect_FO', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FO_pts' => '1'))));

		//10		
		$this->set('nocorrect_AP', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.AP_pts' => '1'))));

		//11	
		$this->set('nocorrect_FL', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.FL_pts' => '1'))));

		//12	
		$this->set('nocorrect_SM', $this->Score->find('count', array(
		'conditions' => array('Score.test_bk_session_id' => $this->params['pass'][1], 'Score.SM_pts' => '1'))));
		
		//////////////
		////GRAPH/////
		//////////////
		
		for ($i=1; $i<=15; $i++) {
			$this->set('MIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MI_pts' => 1))));
			
			$this->set('FDGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FD_pts' => 1))));
			
			$this->set('USGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.US_pts' => 1))));
			
			$this->set('CEGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CE_pts' => 1))));

			$this->set('CCGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CC_pts' => 1))));
			
			$this->set('MPGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.MP_pts' => 1))));
			
			$this->set('WMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.WM_pts' => 1))));

			$this->set('CIGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.CI_pts' => 1))));

			$this->set('FOGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FO_pts' => 1))));

			$this->set('APGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.AP_pts' => 1))));

			$this->set('FLGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.FL_pts' => 1))));

			$this->set('SMGraphResp'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' => $i, 'Score.SM_pts' => 1))));
		}
			
		for ($i=1; $i<=15; $i++) {
		$this->set('noofstud'.$i, $this->Score->find('count', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Test.book_type' => $booktype, 'Score.lesson' =>$i))));
		}
		
		$custperanswers = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_types' => 'student')));
		
		$this->set('custperanswers', $custperanswers);
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	/// COMPACT CLASS REPORT P
	
	function admin_compactreports_p() {
	
		$this->layout = 'admin_student_cptreport';
		
		$booktype = 'P';
		
		$this->pageTitle= 'CARS & STARS Online / Compact Class Report';
		
		$link = Router::url(array('controller' => "customers", 'action' => "dashboard", "admin" => true), true);
					
		$breadcrumbs = "<a href='".$link."'>Dashboard</a><div class='breadcrumb_divider'></div><a class='current'>Compact Class Report</a></article>";
		
		$this->set('breadcrumbs', $breadcrumbs);
		

		$students = $this->Score->Test->find('all', array('conditions' => array('Test.bk_session_id' => $this->params['pass'][1], 'Customer.customers_roles' => 'student')));
		//$students = $this->Score->Test->query('SELECT * FROM tests WHERE bk_session_id = '.$this->params['pass'][1].');

		$this->set('students', $students);

	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_delete_score() {
		
				$scorecondition = array('Score.lesson' => $this->data['Score']['lesson'], 'Score.test_bk_session_id' => $this->data['Score']['test_bk_session_id'], 'Score.customer_id' => $this->data['Score']['customer_id']);
				$this->Score->deleteAll($scorecondition);
				$this->Session->setFlash('<h4 class="alert_success">The Score record has been deleted.</h4>');
				$this->redirect($this->referer());
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////
	
	function admin_reportfilter() {
		
		$path_parts= explode('_',$this->params['pass'][3]);
		
		if($path_parts[0] == "edit") {	
		
		$series = $path_parts[1];
		$booktype = $path_parts[2];
		
			//CONTINUE TO REDIRECT THE REST OF THE TEST HERE
			/* BOOK K */
			if ($series == "carseries" && $booktype == "k") {
				
				$this->redirect(array('controller' => 'scores', 'action' => 'classreports_k', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
				
			} /* BOOK AA */ else if ($series == "carseries" && $booktype == "aa") {
				
				$this->redirect(array('controller' => 'scores', 'action' => 'classreports_aa', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
			
			} /* BOOK A */ else if ($series == "carseries" && $booktype == "a") {
				
				$this->redirect(array('controller' => 'scores', 'action' => 'classreports_a', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
			
			} /* BOOK B */ else if ($series == "carseries" && $booktype == "b") {
				
				$this->redirect(array('controller' => 'scores', 'action' => 'classreports_b', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
			
			} /* BOOK C */ else if ($series == "carseries" && $booktype == "c") {
				
				$this->redirect(array('controller' => 'scores', 'action' => 'classreports_c', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
			
			} /* BOOK D */ else if ($series == "carseries" && $booktype == "d") {
				
				$this->redirect(array('controller' => 'scores', 'action' => 'classreports_d', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
			
			} /* BOOK E */ else if ($series == "carseries" && $booktype == "e") {
				
				$this->redirect(array('controller' => 'scores', 'action' => 'classreports_e', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
			
			} /* BOOK F */ else if ($series == "carseries" && $booktype == "f") {
				
				$this->redirect(array('controller' => 'scores', 'action' => 'classreports_f', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
			
			} /* BOOK F */ else if ($series == "carseries" && $booktype == "g") {
				
				$this->redirect(array('controller' => 'scores', 'action' => 'classreports_g', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
			
			} /* BOOK H */ else if ($series == "carseries" && $booktype == "h") {
				
				$this->redirect(array('controller' => 'scores', 'action' => 'classreports_h', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
			
			} /* BOOK P */ else if ($series == "carseries" && $booktype == "p") {
				
				$this->redirect(array('controller' => 'scores', 'action' => 'classreports_p', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
			
			} /* BOOK P CAR PLUS */ else if ($series == "carsplus" && $booktype == "p") {
			
			$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_p', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));	
			
			} /* BOOK AA CAR PLUS */ else if ($series == "carsplus" && $booktype == "aa") {
			
			$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_aa', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));	
			
			} /* BOOK A CAR PLUS */ else if ($series == "carsplus" && $booktype == "a") {
			
			$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_a', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));	
			
			} /* BOOK B CAR PLUS */ else if ($series == "carsplus" && $booktype == "b") {
			
			$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_b', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));	
			
			} /* BOOK C CAR PLUS */ else if ($series == "carsplus" && $booktype == "c") {
			
			$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_c', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));	
			
			} /* BOOK D CAR PLUS */ else if ($series == "carsplus" && $booktype == "d") {
			
			$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_d', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));	
			
			} /* BOOK E CAR PLUS */ else if ($series == "carsplus" && $booktype == "e") {
			
			$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_e', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));	
			
			} /* BOOK F CAR PLUS */ else if ($series == "carsplus" && $booktype == "f") {
			
			$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_f', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));	
			
			} /* BOOK G CAR PLUS */ else if ($series == "carsplus" && $booktype == "g") {
			
			$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_g', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));	
			
			} /* BOOK H CAR PLUS */ else if ($series == "carsplus" && $booktype == "h") {
			
			$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_h', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));	
			
			}
			//END OF ...
		
		}
		
		//CONTINUE ADD THE REST OF THE REPORT HERE//
		/* BOOK K */
		if ($this->params['pass'][3] == "classreports_k" || $this->params['pass'][3] == "reports_k") {
			
			$this->redirect(array('controller' => 'scores', 'action' => 'classreports_k', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK AA */ elseif ($this->params['pass'][3] == "classreports_aa" || $this->params['pass'][3] == "reports_aa") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreports_aa', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK A */ elseif ($this->params['pass'][3] == "classreports_a" || $this->params['pass'][3] == "reports_a") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreports_a', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK B */ elseif ($this->params['pass'][3] == "classreports_b" || $this->params['pass'][3] == "reports_b") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreports_b', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK C */ elseif ($this->params['pass'][3] == "classreports_c" || $this->params['pass'][3] == "reports_c") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreports_c', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK D */ elseif ($this->params['pass'][3] == "classreports_d" || $this->params['pass'][3] == "reports_d") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreports_d', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK E */ elseif ($this->params['pass'][3] == "classreports_e" || $this->params['pass'][3] == "reports_e") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreports_e', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK F */ elseif ($this->params['pass'][3] == "classreports_f" || $this->params['pass'][3] == "reports_f") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreports_f', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK G */ elseif ($this->params['pass'][3] == "classreports_g" || $this->params['pass'][3] == "reports_g") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreports_g', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK H */ elseif ($this->params['pass'][3] == "classreports_h" || $this->params['pass'][3] == "reports_h") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreports_h', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK P */ elseif ($this->params['pass'][3] == "classreports_p" || $this->params['pass'][3] == "reports_p") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreports_p', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK P CAR PLUS */ elseif ($this->params['pass'][3] == "classreportsplus_p" || $this->params['pass'][3] == "reportsplus_p") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_p', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK AA CAR PLUS */ elseif ($this->params['pass'][3] == "classreportsplus_aa" || $this->params['pass'][3] == "reportsplus_aa") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_aa', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK A CAR PLUS */ elseif ($this->params['pass'][3] == "classreportsplus_a" || $this->params['pass'][3] == "reportsplus_a") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_a', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK B CAR PLUS */ elseif ($this->params['pass'][3] == "classreportsplus_b" || $this->params['pass'][3] == "reportsplus_b") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_b', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK C CAR PLUS */ elseif ($this->params['pass'][3] == "classreportsplus_c" || $this->params['pass'][3] == "reportsplus_c") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_c', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK D CAR PLUS */ elseif ($this->params['pass'][3] == "classreportsplus_d" || $this->params['pass'][3] == "reportsplus_d") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_d', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK E CAR PLUS */ elseif ($this->params['pass'][3] == "classreportsplus_e" || $this->params['pass'][3] == "reportsplus_e") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_e', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK F CAR PLUS */ elseif ($this->params['pass'][3] == "classreportsplus_f" || $this->params['pass'][3] == "reportsplus_f") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_f', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK G CAR PLUS */ elseif ($this->params['pass'][3] == "classreportsplus_g" || $this->params['pass'][3] == "reportsplus_g") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_g', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} /* BOOK H CAR PLUS */ elseif ($this->params['pass'][3] == "classreportsplus_h" || $this->params['pass'][3] == "reportsplus_h") {
		
		$this->redirect(array('controller' => 'scores', 'action' => 'classreportsplus_h', $this->params['pass'][0], $this->params['pass'][1], $this->params['pass'][2]));
		
		} 
		 
		//END OF ...
		
	}
	

}
?>